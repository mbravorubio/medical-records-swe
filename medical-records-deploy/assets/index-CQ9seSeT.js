(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ib(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jd={exports:{}},El={};var Y_;function rb(){if(Y_)return El;Y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return El.Fragment=e,El.jsx=n,El.jsxs=n,El}var X_;function sb(){return X_||(X_=1,jd.exports=rb()),jd.exports}var le=sb(),qd={exports:{}},Ee={};var $_;function ab(){if($_)return Ee;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,H={};function ee(M,Y,re){this.props=M,this.context=Y,this.refs=H,this.updater=re||$}ee.prototype.isReactComponent={},ee.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ee.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function te(){}te.prototype=ee.prototype;function se(M,Y,re){this.props=M,this.context=Y,this.refs=H,this.updater=re||$}var Re=se.prototype=new te;Re.constructor=se,Z(Re,ee.prototype),Re.isPureReactComponent=!0;var Ie=Array.isArray;function Ce(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(M,Y,re){var oe=re.ref;return{$$typeof:r,type:M,key:Y,ref:oe!==void 0?oe:null,props:re}}function V(M,Y){return w(M.type,Y,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return Y[re]})}var R=/\/+/g;function rt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Y.toString(36)}function It(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ce,Ce):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Y,re,oe,_e){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(be){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=M._init,G(Ue(M._payload),Y,re,oe,_e)}}if(Ue)return _e=_e(M),Ue=oe===""?"."+rt(M,0):oe,Ie(_e)?(re="",Ue!=null&&(re=Ue.replace(R,"$&/")+"/"),G(_e,Y,re,"",function(os){return os})):_e!=null&&(O(_e)&&(_e=V(_e,re+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+Ue)),Y.push(_e)),1;Ue=0;var Dt=oe===""?".":oe+":";if(Ie(M))for(var st=0;st<M.length;st++)oe=M[st],be=Dt+rt(oe,st),Ue+=G(oe,Y,re,be,_e);else if(st=z(M),typeof st=="function")for(M=st.call(M),st=0;!(oe=M.next()).done;)oe=oe.value,be=Dt+rt(oe,st++),Ue+=G(oe,Y,re,be,_e);else if(be==="object"){if(typeof M.then=="function")return G(It(M),Y,re,oe,_e);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ie(M,Y,re){if(M==null)return M;var oe=[],_e=0;return G(M,oe,"","",function(be){return Y.call(re,be,_e++)}),oe}function de(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ie,forEach:function(M,Y,re){ie(M,function(){Y.apply(this,arguments)},re)},count:function(M){var Y=0;return ie(M,function(){Y++}),Y},toArray:function(M){return ie(M,function(Y){return Y})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ee.Activity=A,Ee.Children=Ge,Ee.Component=ee,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=se,Ee.StrictMode=s,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(M,Y,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=Z({},M.props),_e=M.key;if(Y!=null)for(be in Y.key!==void 0&&(_e=""+Y.key),Y)!b.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(oe[be]=Y[be]);var be=arguments.length-2;if(be===1)oe.children=re;else if(1<be){for(var Ue=Array(be),Dt=0;Dt<be;Dt++)Ue[Dt]=arguments[Dt+2];oe.children=Ue}return w(M.type,_e,oe)},Ee.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ee.createElement=function(M,Y,re){var oe,_e={},be=null;if(Y!=null)for(oe in Y.key!==void 0&&(be=""+Y.key),Y)b.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=Y[oe]);var Ue=arguments.length-2;if(Ue===1)_e.children=re;else if(1<Ue){for(var Dt=Array(Ue),st=0;st<Ue;st++)Dt[st]=arguments[st+2];_e.children=Dt}if(M&&M.defaultProps)for(oe in Ue=M.defaultProps,Ue)_e[oe]===void 0&&(_e[oe]=Ue[oe]);return w(M,be,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:m,render:M}},Ee.isValidElement=O,Ee.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},Ee.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Ee.startTransition=function(M){var Y=I.T,re={};I.T=re;try{var oe=M(),_e=I.S;_e!==null&&_e(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ce,ze)}catch(be){ze(be)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Ee.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ee.use=function(M){return I.H.use(M)},Ee.useActionState=function(M,Y,re){return I.H.useActionState(M,Y,re)},Ee.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Ee.useContext=function(M){return I.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Ee.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Ee.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ee.useId=function(){return I.H.useId()},Ee.useImperativeHandle=function(M,Y,re){return I.H.useImperativeHandle(M,Y,re)},Ee.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Ee.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Ee.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Ee.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Ee.useReducer=function(M,Y,re){return I.H.useReducer(M,Y,re)},Ee.useRef=function(M){return I.H.useRef(M)},Ee.useState=function(M){return I.H.useState(M)},Ee.useSyncExternalStore=function(M,Y,re){return I.H.useSyncExternalStore(M,Y,re)},Ee.useTransition=function(){return I.H.useTransition()},Ee.version="19.2.0",Ee}var J_;function Pm(){return J_||(J_=1,qd.exports=ab()),qd.exports}var X=Pm(),Hd={exports:{}},Tl={},Fd={exports:{}},Gd={};var Z_;function ob(){return Z_||(Z_=1,(function(r){function e(G,ie){var de=G.length;G.push(ie);e:for(;0<de;){var ze=de-1>>>1,Ge=G[ze];if(0<o(Ge,ie))G[ze]=ie,G[de]=Ge,de=ze;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ie=G[0],de=G.pop();if(de!==ie){G[0]=de;e:for(var ze=0,Ge=G.length,M=Ge>>>1;ze<M;){var Y=2*(ze+1)-1,re=G[Y],oe=Y+1,_e=G[oe];if(0>o(re,de))oe<Ge&&0>o(_e,re)?(G[ze]=_e,G[oe]=de,ze=oe):(G[ze]=re,G[Y]=de,ze=Y);else if(oe<Ge&&0>o(_e,de))G[ze]=_e,G[oe]=de,ze=oe;else break e}}return ie}function o(G,ie){var de=G.sortIndex-ie.sortIndex;return de!==0?de:G.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,D=3,z=!1,$=!1,Z=!1,H=!1,ee=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(G){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=G)s(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(y)}}function Ie(G){if(Z=!1,Re(G),!$)if(n(g)!==null)$=!0,Ce||(Ce=!0,P());else{var ie=n(y);ie!==null&&It(Ie,ie.startTime-G)}}var Ce=!1,I=-1,b=5,w=-1;function V(){return H?!0:!(r.unstable_now()-w<b)}function O(){if(H=!1,Ce){var G=r.unstable_now();w=G;var ie=!0;try{e:{$=!1,Z&&(Z=!1,te(I),I=-1),z=!0;var de=D;try{t:{for(Re(G),A=n(g);A!==null&&!(A.expirationTime>G&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,D=A.priorityLevel;var Ge=ze(A.expirationTime<=G);if(G=r.unstable_now(),typeof Ge=="function"){A.callback=Ge,Re(G),ie=!0;break t}A===n(g)&&s(g),Re(G)}else s(g);A=n(g)}if(A!==null)ie=!0;else{var M=n(y);M!==null&&It(Ie,M.startTime-G),ie=!1}}break e}finally{A=null,D=de,z=!1}ie=void 0}}finally{ie?P():Ce=!1}}}var P;if(typeof se=="function")P=function(){se(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=O,P=function(){rt.postMessage(null)}}else P=function(){ee(O,0)};function It(G,ie){I=ee(function(){G(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var de=D;D=ie;try{return G()}finally{D=de}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=D;D=G;try{return ie()}finally{D=de}},r.unstable_scheduleCallback=function(G,ie,de){var ze=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,G={id:E++,callback:ie,priorityLevel:G,startTime:de,expirationTime:Ge,sortIndex:-1},de>ze?(G.sortIndex=de,e(y,G),n(g)===null&&G===n(y)&&(Z?(te(I),I=-1):Z=!0,It(Ie,de-ze))):(G.sortIndex=Ge,e(g,G),$||z||($=!0,Ce||(Ce=!0,P()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ie=D;return function(){var de=D;D=ie;try{return G.apply(this,arguments)}finally{D=de}}}})(Gd)),Gd}var W_;function lb(){return W_||(W_=1,Fd.exports=ob()),Fd.exports}var Kd={exports:{}},Yt={};var ev;function ub(){if(ev)return Yt;ev=1;var r=Pm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Yt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:z}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:D,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Yt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,y){return g(y)},Yt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.2.0",Yt}var tv;function cb(){if(tv)return Kd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=ub(),Kd.exports}var nv;function hb(){if(nv)return Tl;nv=1;var r=lb(),e=Pm(),n=cb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ee:return"Profiler";case H:return"StrictMode";case Ie:return"Suspense";case Ce:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case se:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var It=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function M(t){return{current:t}}function Y(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function re(t,i){Ge++,ze[Ge]=t.current,t.current=i}var oe=M(null),_e=M(null),be=M(null),Ue=M(null);function Dt(t,i){switch(re(be,i),re(_e,t),re(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=y_(i),t=__(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(oe),re(oe,t)}function st(){Y(oe),Y(_e),Y(be)}function os(t){t.memoizedState!==null&&re(Ue,t);var i=oe.current,a=__(i,t.type);i!==a&&(re(_e,t),re(oe,a))}function Ws(t){_e.current===t&&(Y(oe),Y(_e)),Ue.current===t&&(Y(Ue),gl._currentValue=de)}var ea,ta;function Zn(t){if(ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ea=i&&i[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+ta}var go=!1;function ls(t,i){if(!t||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){B=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),k=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===k.length)for(l=C.length-1,h=k.length-1;1<=l&&0<=h&&C[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==k[h]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zn(a):""}function yo(t,i){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==i&&i!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ls(t.type,!1);case 11:return ls(t.type.render,!1);case 1:return ls(t.type,!0);case 31:return Zn("Activity");default:return""}}function _o(t){try{var i="",a=null;do i+=yo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,qh=r.unstable_shouldYield,au=r.unstable_requestPaint,Wt=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,Un=null,zt=null;function En(t){if(typeof lu=="function"&&uu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Un,t)}catch{}}var ft=Math.clz32?Math.clz32:hu,cu=Math.log,na=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/na|0)|0}var Wn=256,cs=262144,_t=4194304;function ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ei(l):(_&=T,_!==0?h=ei(_):a||(a=T&~t,a!==0&&(h=ei(a))))):(T=l&~d,T!==0?h=ei(T):_!==0?h=ei(_):a||(a=l&~t,a!==0&&(h=ei(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Fh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ni(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function hs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,k=t.hiddenUpdates;for(a=_&~a;0<a;){var F=31-ft(a),Q=1<<F;T[F]=0,C[F]=-1;var B=k[F];if(B!==null)for(k[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&fs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function fs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function To(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function So(t,i){var a=i&-i;return a=(a&42)!==0?1:ds(a),(a&(t.suspendedLanes|i))!==0?0:a}function ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:j_(t.type))}function zn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Bn,Pt="__reactProps$"+Bn,ii="__reactContainer$"+Bn,ia="__reactEvents$"+Bn,Kh="__reactListeners$"+Bn,mu="__reactHandles$"+Bn,pu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function ra(t){delete t[vt],delete t[Pt],delete t[ia],delete t[Kh],delete t[mu]}function si(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ii]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=w_(t);t!==null;){if(a=t[vt])return a;t=w_(t)}return i}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[vt]||t[ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ai(t){var i=t[pu];return i||(i=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ri]=!0}var Ao=new Set,bo={};function oi(t,i){li(t,i),li(t+"Capture",i)}function li(t,i){for(bo[t]=i,t=0;t<i.length;t++)Ao.add(i[t])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Co={};function gu(t){return yt.call(Co,t)?!0:yt.call(Ro,t)?!1:wo.test(t)?Co[t]=!0:(Ro[t]=!0,!1)}function sa(t,i,a){if(gu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Io(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=cr(t)?"checked":"value";t._valueTracker=Io(t,i,""+t[i])}}function ms(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ps=/[\n"\\]/g;function nn(t){return t.replace(ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function aa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Do(t,_,Lt(i)):a!=null?Do(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function yu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Do(t,i,a){i==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function _u(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function fr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(It(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||vu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function No(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Oo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Oo(t,d,i[d])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return dr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var Mo=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,ci=null;function gs(t){var i=Tn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));aa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ms(l)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&hr(t,!!a.multiple,i,!1)}}}var ua=!1;function pr(t,i,a){if(ua)return t(i,a);ua=!0;try{var l=t(i);return l}finally{if(ua=!1,(mr!==null||ci!==null)&&(dc(),mr&&(i=mr,t=ci,ci=mr=null,gs(i),t)))for(i=0;i<t.length;i++)gs(t[i])}}function qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{ys=!1}var hi=null,Vo=null,_s=null;function xo(){if(_s)return _s;var t,i=Vo,a=i.length,l,h="value"in hi?hi.value:hi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return _s=h.slice(t,1<l?1-l:void 0)}function vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Hn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Hn,this.isPropagationStopped=Hn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Bt(xi),gr=A({},xi,{view:0,detail:0}),Po=Bt(gr),yr,ca,di,ha=A({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(yr=t.screenX-di.screenX,ca=t.screenY-di.screenY):ca=yr=0,di=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),Lo=Bt(ha),Es=A({},ha,{dataTransfer:0}),Tu=Bt(Es),Su=A({},gr,{relatedTarget:0}),Ts=Bt(Su),Uo=A({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Bt(Uo),fa=A({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=Bt(fa),wu=A({},xi,{data:0}),mi=Bt(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Iu[t])?!!i[t]:!1}function _r(){return Du}var en=A({},gr,{key:function(t){if(t.key){var i=Ru[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Bt(en),Nu=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Bt(Nu),c=A({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),p=Bt(c),v=A({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),L=A({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Bt(L),ne=A({},xi,{newState:0,oldState:0}),Se=Bt(ne),dt=[9,13,27,32],qe=An&&"CompositionEvent"in window,at=null;An&&"documentMode"in document&&(at=document.documentMode);var bn=An&&"TextEvent"in window&&!at,pi=An&&(!qe||at&&8<at&&11>=at),Fn=" ",Gn=!1;function Ss(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function CS(t,i){switch(t){case"compositionend":return da(i);case"keypress":return i.which!==32?null:(Gn=!0,Fn);case"textInput":return t=i.data,t===Fn&&Gn?null:t;default:return null}}function IS(t,i){if(ma)return t==="compositionend"||!qe&&Ss(t,i)?(t=xo(),_s=Vo=hi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pi&&i.locale!=="ko"?null:i.data;default:return null}}var DS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!DS[t.type]:i==="textarea"}function Dp(t,i,a,l){mr?ci?ci.push(l):ci=[l]:mr=l,i=Ec(i,"onChange"),0<i.length&&(a=new fi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ko=null,zo=null;function OS(t){h_(t,0)}function Mu(t){var i=hn(t);if(ms(i))return t}function Op(t,i){if(t==="change")return i}var Np=!1;if(An){var Qh;if(An){var Yh="oninput"in document;if(!Yh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Yh=typeof Mp.oninput=="function"}Qh=Yh}else Qh=!1;Np=Qh&&(!document.documentMode||9<document.documentMode)}function Vp(){ko&&(ko.detachEvent("onpropertychange",xp),zo=ko=null)}function xp(t){if(t.propertyName==="value"&&Mu(zo)){var i=[];Dp(i,zo,t,Sn(t)),pr(OS,i)}}function NS(t,i,a){t==="focusin"?(Vp(),ko=i,zo=a,ko.attachEvent("onpropertychange",xp)):t==="focusout"&&Vp()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(zo)}function VS(t,i){if(t==="click")return Mu(i)}function xS(t,i){if(t==="input"||t==="change")return Mu(i)}function PS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:PS;function Bo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,i){var a=Pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function Up(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Up(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ui(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ui(t.document)}return i}function Xh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var LS=An&&"documentMode"in document&&11>=document.documentMode,pa=null,$h=null,jo=null,Jh=!1;function zp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||pa==null||pa!==ui(l)||(l=pa,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jo&&Bo(jo,l)||(jo=l,l=Ec($h,"onSelect"),0<l.length&&(i=new fi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=pa)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Zh={},Bp={};An&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function bs(t){if(Zh[t])return Zh[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bp)return Zh[t]=i[a];return t}var jp=bs("animationend"),qp=bs("animationiteration"),Hp=bs("animationstart"),US=bs("transitionrun"),kS=bs("transitionstart"),zS=bs("transitioncancel"),Fp=bs("transitionend"),Gp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function Kn(t,i){Gp.set(t,i),oi(i,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],ya=0,ef=0;function xu(){for(var t=ya,i=ef=ya=0;i<t;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Kp(a,h,d)}}function Pu(t,i,a,l){wn[ya++]=t,wn[ya++]=i,wn[ya++]=a,wn[ya++]=l,ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function tf(t,i,a,l){return Pu(t,i,a,l),Lu(t)}function ws(t,i){return Pu(t,null,null,i),Lu(t)}function Kp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<ul)throw ul=0,hd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var _a={};function BS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new BS(t,i,a,l)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")nf(t)&&(_=1);else if(typeof t=="string")_=GA(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=mn(31,a,i,h),t.elementType=w,t.lanes=d,t;case Z:return Rs(a.children,h,d,i);case H:_=8,h|=24;break;case ee:return t=mn(12,a,i,h|2),t.elementType=ee,t.lanes=d,t;case Ie:return t=mn(13,a,i,h),t.elementType=Ie,t.lanes=d,t;case Ce:return t=mn(19,a,i,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case te:_=9;break e;case Re:_=11;break e;case I:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Rs(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function rf(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function Yp(t){var i=mn(18,null,null,0);return i.stateNode=t,i}function sf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Xp=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=Xp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:_o(i)},Xp.set(t,i),i)}return{value:t,source:i,stack:_o(i)}}var va=[],Ea=0,ku=null,qo=0,Cn=[],In=0,vr=null,gi=1,yi="";function Ui(t,i){va[Ea++]=qo,va[Ea++]=ku,ku=t,qo=i}function $p(t,i,a){Cn[In++]=gi,Cn[In++]=yi,Cn[In++]=vr,vr=t;var l=gi;t=yi;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,gi=1<<32-ft(i)+h|a<<h|l,yi=d+t}else gi=1<<d|a<<h|l,yi=t}function af(t){t.return!==null&&(Ui(t,1),$p(t,1,0))}function of(t){for(;t===ku;)ku=va[--Ea],va[Ea]=null,qo=va[--Ea],va[Ea]=null;for(;t===vr;)vr=Cn[--In],Cn[In]=null,yi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function Jp(t,i){Cn[In++]=gi,Cn[In++]=yi,Cn[In++]=vr,gi=i.id,yi=i.overflow,vr=t}var jt=null,tt=null,Le=!1,Er=null,Dn=!1,lf=Error(s(519));function Tr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Rn(i,t)),lf}function Zp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Pt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Oe(hl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),yu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=jn),i=!0):i=!1,i||Tr(t,!0)}function Wp(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:jt=jt.return}}function Ta(t){if(t!==jt)return!1;if(!Le)return Wp(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&tt&&Tr(t),Wp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=b_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=b_(t)}else i===27?(i=tt,Pr(t.type)?(t=Nd,Nd=null,tt=t):tt=i):tt=jt?Nn(t.stateNode.nextSibling):null;return!0}function Cs(){tt=jt=null,Le=!1}function uf(){var t=Er;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Er=null),t}function Ho(t){Er===null?Er=[t]:Er.push(t)}var cf=M(null),Is=null,ki=null;function Sr(t,i,a){re(cf,i._currentValue),i._currentValue=a}function zi(t){t._currentValue=cf.current,Y(cf)}function hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ff(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),hf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),hf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Sa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;dn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&ff(i,t,a,l),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){Is=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return eg(Is,t)}function Bu(t,i){return Is===null&&Ds(t),eg(t,i)}function eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(t===null)throw Error(s(308));ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ki=ki.next=i;return a}var jS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},qS=r.unstable_scheduleCallback,HS=r.unstable_NormalPriority,St={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new jS,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&qS(HS,function(){t.controller.abort()})}var Go=null,mf=0,Aa=0,ba=null;function FS(t,i){if(Go===null){var a=Go=[];mf=0,Aa=yd(),ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mf++,i.then(tg,tg),i}function tg(){if(--mf===0&&Go!==null){ba!==null&&(ba.status="fulfilled");var t=Go;Go=null,Aa=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function GS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ng=G.S;G.S=function(t,i){zy=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&FS(t,i),ng!==null&&ng(t,i)};var Os=M(null);function pf(){var t=Os.current;return t!==null?t:et.pooledCache}function ju(t,i){i===null?re(Os,Os.current):re(Os,i.pool)}function ig(){var t=pf();return t===null?null:{parent:St._currentValue,pool:t}}var wa=Error(s(460)),gf=Error(s(474)),qu=Error(s(542)),Hu={then:function(){}};function rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(jn,jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t;default:if(typeof i.status=="string")i.then(jn,jn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t}throw Ms=i,wa}}function Ns(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,wa):a}}var Ms=null;function ag(){if(Ms===null)throw Error(s(459));var t=Ms;return Ms=null,t}function og(t){if(t===wa||t===qu)throw Error(s(483))}var Ra=null,Ko=0;function Fu(t){var i=Ko;return Ko+=1,Ra===null&&(Ra=[]),sg(Ra,t,i)}function Qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gu(t,i){throw i.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function lg(t){function i(x,N){if(t){var U=x.deletions;U===null?(x.deletions=[N],x.flags|=16):U.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Li(x,N),x.index=0,x.sibling=null,x}function d(x,N,U){return x.index=U,t?(U=x.alternate,U!==null?(U=U.index,U<N?(x.flags|=67108866,N):U):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,U,K){return N===null||N.tag!==6?(N=rf(U,x.mode,K),N.return=x,N):(N=h(N,U),N.return=x,N)}function C(x,N,U,K){var fe=U.type;return fe===Z?F(x,N,U.props.children,K,U.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Ns(fe)===N.type)?(N=h(N,U.props),Qo(N,U),N.return=x,N):(N=Uu(U.type,U.key,U.props,null,x.mode,K),Qo(N,U),N.return=x,N)}function k(x,N,U,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=sf(U,x.mode,K),N.return=x,N):(N=h(N,U.children||[]),N.return=x,N)}function F(x,N,U,K,fe){return N===null||N.tag!==7?(N=Rs(U,x.mode,K,fe),N.return=x,N):(N=h(N,U),N.return=x,N)}function Q(x,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=rf(""+N,x.mode,U),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z:return U=Uu(N.type,N.key,N.props,null,x.mode,U),Qo(U,N),U.return=x,U;case $:return N=sf(N,x.mode,U),N.return=x,N;case b:return N=Ns(N),Q(x,N,U)}if(It(N)||P(N))return N=Rs(N,x.mode,U,null),N.return=x,N;if(typeof N.then=="function")return Q(x,Fu(N),U);if(N.$$typeof===se)return Q(x,Bu(x,N),U);Gu(x,N)}return null}function B(x,N,U,K){var fe=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:T(x,N,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===fe?C(x,N,U,K):null;case $:return U.key===fe?k(x,N,U,K):null;case b:return U=Ns(U),B(x,N,U,K)}if(It(U)||P(U))return fe!==null?null:F(x,N,U,K,null);if(typeof U.then=="function")return B(x,N,Fu(U),K);if(U.$$typeof===se)return B(x,N,Bu(x,U),K);Gu(x,U)}return null}function q(x,N,U,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(U)||null,T(N,x,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return x=x.get(K.key===null?U:K.key)||null,C(N,x,K,fe);case $:return x=x.get(K.key===null?U:K.key)||null,k(N,x,K,fe);case b:return K=Ns(K),q(x,N,U,K,fe)}if(It(K)||P(K))return x=x.get(U)||null,F(N,x,K,fe,null);if(typeof K.then=="function")return q(x,N,U,Fu(K),fe);if(K.$$typeof===se)return q(x,N,U,Bu(N,K),fe);Gu(N,K)}return null}function ue(x,N,U,K){for(var fe=null,Be=null,ce=N,we=N=0,Me=null;ce!==null&&we<U.length;we++){ce.index>we?(Me=ce,ce=null):Me=ce.sibling;var je=B(x,ce,U[we],K);if(je===null){ce===null&&(ce=Me);break}t&&ce&&je.alternate===null&&i(x,ce),N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je,ce=Me}if(we===U.length)return a(x,ce),Le&&Ui(x,we),fe;if(ce===null){for(;we<U.length;we++)ce=Q(x,U[we],K),ce!==null&&(N=d(ce,N,we),Be===null?fe=ce:Be.sibling=ce,Be=ce);return Le&&Ui(x,we),fe}for(ce=l(ce);we<U.length;we++)Me=q(ce,x,we,U[we],K),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?we:Me.key),N=d(Me,N,we),Be===null?fe=Me:Be.sibling=Me,Be=Me);return t&&ce.forEach(function(Br){return i(x,Br)}),Le&&Ui(x,we),fe}function pe(x,N,U,K){if(U==null)throw Error(s(151));for(var fe=null,Be=null,ce=N,we=N=0,Me=null,je=U.next();ce!==null&&!je.done;we++,je=U.next()){ce.index>we?(Me=ce,ce=null):Me=ce.sibling;var Br=B(x,ce,je.value,K);if(Br===null){ce===null&&(ce=Me);break}t&&ce&&Br.alternate===null&&i(x,ce),N=d(Br,N,we),Be===null?fe=Br:Be.sibling=Br,Be=Br,ce=Me}if(je.done)return a(x,ce),Le&&Ui(x,we),fe;if(ce===null){for(;!je.done;we++,je=U.next())je=Q(x,je.value,K),je!==null&&(N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je);return Le&&Ui(x,we),fe}for(ce=l(ce);!je.done;we++,je=U.next())je=q(ce,x,we,je.value,K),je!==null&&(t&&je.alternate!==null&&ce.delete(je.key===null?we:je.key),N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je);return t&&ce.forEach(function(nb){return i(x,nb)}),Le&&Ui(x,we),fe}function Ze(x,N,U,K){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var fe=U.key;N!==null;){if(N.key===fe){if(fe=U.type,fe===Z){if(N.tag===7){a(x,N.sibling),K=h(N,U.props.children),K.return=x,x=K;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Ns(fe)===N.type){a(x,N.sibling),K=h(N,U.props),Qo(K,U),K.return=x,x=K;break e}a(x,N);break}else i(x,N);N=N.sibling}U.type===Z?(K=Rs(U.props.children,x.mode,K,U.key),K.return=x,x=K):(K=Uu(U.type,U.key,U.props,null,x.mode,K),Qo(K,U),K.return=x,x=K)}return _(x);case $:e:{for(fe=U.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(x,N.sibling),K=h(N,U.children||[]),K.return=x,x=K;break e}else{a(x,N);break}else i(x,N);N=N.sibling}K=sf(U,x.mode,K),K.return=x,x=K}return _(x);case b:return U=Ns(U),Ze(x,N,U,K)}if(It(U))return ue(x,N,U,K);if(P(U)){if(fe=P(U),typeof fe!="function")throw Error(s(150));return U=fe.call(U),pe(x,N,U,K)}if(typeof U.then=="function")return Ze(x,N,Fu(U),K);if(U.$$typeof===se)return Ze(x,N,Bu(x,U),K);Gu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(x,N.sibling),K=h(N,U),K.return=x,x=K):(a(x,N),K=rf(U,x.mode,K),K.return=x,x=K),_(x)):a(x,N)}return function(x,N,U,K){try{Ko=0;var fe=Ze(x,N,U,K);return Ra=null,fe}catch(ce){if(ce===wa||ce===qu)throw ce;var Be=mn(29,ce,null,x.mode);return Be.lanes=K,Be.return=x,Be}finally{}}}var Vs=lg(!0),ug=lg(!1),Ar=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Lu(t),Kp(t,null,a),i}return Pu(t,l,i,a),Lu(t)}function Yo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}function vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ef=!1;function Xo(){if(Ef){var t=ba;if(t!==null)throw t}}function $o(t,i,a,l){Ef=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,k=C.next;C.next=null,_===null?d=k:_.next=k,_=C;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==_&&(T===null?F.firstBaseUpdate=k:T.next=k,F.lastBaseUpdate=C))}if(d!==null){var Q=h.baseState;_=0,F=k=C=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Ne&B)===B:(l&B)===B){B!==0&&B===Aa&&(Ef=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,pe=T;B=i;var Ze=a;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){Q=ue.call(Ze,Q,B);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,B=typeof ue=="function"?ue.call(Ze,Q,B):ue,B==null)break e;Q=A({},Q,B);break e;case 2:Ar=!0}}B=T.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(k=F=q,C=Q):F=F.next=q,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Or|=_,t.lanes=_,t.memoizedState=Q}}function cg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cg(a[t],i)}var Ca=M(null),Ku=M(0);function fg(t,i){t=Yi,re(Ku,t),re(Ca,i),Yi=t|i.baseLanes}function Tf(){re(Ku,Yi),re(Ca,Ca.current)}function Sf(){Yi=Ku.current,Y(Ca),Y(Ku)}var pn=M(null),On=null;function Rr(t){var i=t.alternate;re(mt,mt.current&1),re(pn,t),On===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(On=t)}function Af(t){re(mt,mt.current),re(pn,t),On===null&&(On=t)}function dg(t){t.tag===22?(re(mt,mt.current),re(pn,t),On===null&&(On=t)):Cr()}function Cr(){re(mt,mt.current),re(pn,pn.current)}function gn(t){Y(pn),On===t&&(On=null),Y(mt)}var mt=M(0);function Qu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bi=0,Ae=null,$e=null,At=null,Yu=!1,Ia=!1,xs=!1,Xu=0,Jo=0,Da=null,KS=0;function ct(){throw Error(s(321))}function bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function wf(t,i,a,l,h,d){return Bi=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?$g:Bf,xs=!1,d=a(l,h),xs=!1,Ia&&(d=pg(i,a,l,h)),mg(t),d}function mg(t){G.H=el;var i=$e!==null&&$e.next!==null;if(Bi=0,At=$e=Ae=null,Yu=!1,Jo=0,Da=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&zu(t)&&(bt=!0))}function pg(t,i,a,l){Ae=t;var h=0;do{if(Ia&&(Da=null),Jo=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Jg,d=i(a,l)}while(Ia);return d}function QS(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Rf(){var t=Xu!==0;return Xu=0,t}function Cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function If(t){if(Yu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Yu=!1}Bi=0,At=$e=Ae=null,Ia=!1,Jo=Xu=0,Da=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ae.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?Ae.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Ae.memoizedState=At=t:At=At.next=t}return At}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=Jo;return Jo+=1,Da===null&&(Da=[]),t=sg(Da,t,i),i=Ae,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?$g:Bf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===se)return qt(t)}throw Error(s(438,String(t)))}function Df(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$u(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function ji(t,i){return typeof i=="function"?i(t):i}function Zu(t){var i=pt();return Of(i,$e,t)}function Of(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,k=i,F=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(Ne&Q)===Q:(Bi&Q)===Q){var B=k.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===Aa&&(F=!0);else if((Bi&B)===B){k=k.next,B===Aa&&(F=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(T=C=Q,_=d):C=C.next=Q,Ae.lanes|=B,Or|=B;Q=k.action,xs&&a(d,Q),d=k.hasEagerState?k.eagerState:a(d,Q)}else B={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(T=C=B,_=d):C=C.next=B,Ae.lanes|=Q,Or|=Q;k=k.next}while(k!==null&&k!==i);if(C===null?_=d:C.next=T,!dn(d,t.memoizedState)&&(bt=!0,F&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gg(t,i,a){var l=Ae,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,bt=!0),h=h.queue,xf(vg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},_g.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Bi&127)!==0||yg(l,i,a)}return a}function yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=$u(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function _g(t,i,a,l){i.value=a,i.getSnapshot=l,Eg(i)&&Tg(t)}function vg(t,i,a){return a(function(){Eg(i)&&Tg(t)})}function Eg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Tg(t){var i=ws(t,2);i!==null&&un(i,t,2)}function Mf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),xs){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},i}function Sg(t,i,a,l){return t.baseState=a,Of(t,$e,typeof l=="function"?l:ji)}function YS(t,i,a,l,h){if(tc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ag(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ag(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,l),C=G.S;C!==null&&C(_,T),bg(t,i,T)}catch(k){Vf(t,i,k)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),bg(t,i,d)}catch(k){Vf(t,i,k)}}function bg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wg(t,i,l)},function(l){return Vf(t,i,l)}):wg(t,i,a)}function wg(t,i,a){i.status="fulfilled",i.value=a,Rg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ag(t,a)))}function Vf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Rg(i),i=i.next;while(i!==l)}t.action=null}function Rg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cg(t,i){return i}function Ig(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Ae;if(Le){if(tt){t:{for(var h=tt,d=Dn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Nn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Nn(h.nextSibling),l=h.data==="F!";break e}}Tr(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:i},a.queue=l,a=Qg.bind(null,Ae,l),l.dispatch=a,l=Mf(!1),d=zf.bind(null,Ae,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=YS.bind(null,Ae,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Dg(t){var i=pt();return Og(i,$e,t)}function Og(t,i,a){if(i=Of(t,i,Cg)[0],t=Zu(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(_){throw _===wa?qu:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Oa(9,{destroy:void 0},XS.bind(null,h,a),null)),[l,d,t]}function XS(t,i){t.action=i}function Ng(t){var i=pt(),a=$e;if(a!==null)return Og(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=$u(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Mg(){return pt().memoizedState}function Wu(t,i,a,l){var h=tn();Ae.flags|=t,h.memoizedState=Oa(1|i,{destroy:void 0},a,l===void 0?null:l)}function ec(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&bf(l,$e.memoizedState.deps)?h.memoizedState=Oa(i,d,a,l):(Ae.flags|=t,h.memoizedState=Oa(1|i,d,a,l))}function Vg(t,i){Wu(8390656,8,t,i)}function xf(t,i){ec(2048,8,t,i)}function $S(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=$u(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xg(t){var i=pt().memoizedState;return $S({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Pg(t,i){return ec(4,2,t,i)}function Lg(t,i){return ec(4,4,t,i)}function Ug(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function kg(t,i,a){a=a!=null?a.concat([t]):null,ec(4,4,Ug.bind(null,i,t),a)}function Pf(){}function zg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Bg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&bf(i,l[1]))return l[0];if(l=t(),xs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l}function Lf(t,i,a){return a===void 0||(Bi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=jy(),Ae.lanes|=t,Or|=t,a)}function jg(t,i,a,l){return dn(a,i)?a:Ca.current!==null?(t=Lf(t,a,l),dn(t,i)||(bt=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Ne&261930)===0?(bt=!0,t.memoizedState=a):(t=jy(),Ae.lanes|=t,Or|=t,i)}function qg(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,zf(t,!1,i,a);try{var C=h(),k=G.S;if(k!==null&&k(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=GS(C,l);Wo(t,i,F,vn(t))}else Wo(t,i,l,vn(t))}catch(Q){Wo(t,i,{then:function(){},status:"rejected",reason:Q},vn())}finally{ie.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function JS(){}function Uf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Hg(t).queue;qg(t,h,i,de,a===null?JS:function(){return Fg(t),a(l)})}function Hg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fg(t){var i=Hg(t);i.next===null&&(i=t.alternate.memoizedState),Wo(t,i.next.queue,{},vn())}function kf(){return qt(gl)}function Gg(){return pt().memoizedState}function Kg(){return pt().memoizedState}function ZS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=br(a);var l=wr(i,t,a);l!==null&&(un(l,i,a),Yo(l,i,a)),i={cache:df()},t.payload=i;return}i=i.return}}function WS(t,i,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?Yg(i,a):(a=tf(t,i,a,l),a!==null&&(un(a,t,l),Xg(a,i,l)))}function Qg(t,i,a){var l=vn();Wo(t,i,a,l)}function Wo(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Yg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,_))return Pu(t,i,h,0),et===null&&xu(),!1}catch{}finally{}if(a=tf(t,i,h,l),a!==null)return un(a,t,l),Xg(a,i,l),!0}return!1}function zf(t,i,a,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(i)throw Error(s(479))}else i=tf(t,a,l,2),i!==null&&un(i,t,2)}function tc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Yg(t,i){Ia=Yu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Xg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}var el={readContext:qt,use:Ju,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};el.useEffectEvent=ct;var $g={readContext:qt,use:Ju,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Vg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,Ug.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Wu(4194308,4,t,i)},useInsertionEffect:function(t,i){Wu(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(xs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(xs){En(!0);try{a(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WS.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=Qg.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,i){var a=tn();return Lf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=qg.bind(null,Ae,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ae,h=tn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Ne&127)!==0||yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Vg(vg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,{destroy:void 0},_g.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=et.identifierPrefix;if(Le){var a=yi,l=gi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=KS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:kf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return tn().memoizedState=ZS.bind(null,Ae)},useEffectEvent:function(t){var i=tn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:qt,use:Ju,useCallback:zg,useContext:qt,useEffect:xf,useImperativeHandle:kg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Zu,useRef:Mg,useState:function(){return Zu(ji)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=pt();return jg(a,$e.memoizedState,t,i)},useTransition:function(){var t=Zu(ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:kf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,i){var a=pt();return Sg(a,$e,t,i)},useMemoCache:Df,useCacheRefresh:Kg};Bf.useEffectEvent=xg;var Jg={readContext:qt,use:Ju,useCallback:zg,useContext:qt,useEffect:xf,useImperativeHandle:kg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Nf,useRef:Mg,useState:function(){return Nf(ji)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=pt();return $e===null?Lf(a,t,i):jg(a,$e.memoizedState,t,i)},useTransition:function(){var t=Nf(ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:kf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,i){var a=pt();return $e!==null?Sg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Kg};Jg.useEffectEvent=xg;function jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(un(i,t,l),Yo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(un(i,t,l),Yo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=wr(t,l,a),i!==null&&(un(i,t,a),Yo(i,t,a))}};function Zg(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,l)||!Bo(h,d):!0}function Wg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function Ps(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ey(t){Vu(t)}function ty(t){console.error(t)}function ny(t){Vu(t)}function nc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,i)},a}function ry(t){return t=br(t),t.tag=3,t}function sy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){iy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){iy(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function eA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Sa(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?mc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Hu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),md(t,l,h)),!1;case 22:return a.flags|=65536,l===Hu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),md(t,l,h)),!1}throw Error(s(435,a.tag))}return md(t,l,h),mc(),!1}if(Le)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==lf&&(t=Error(s(422),{cause:l}),Ho(Rn(t,a)))):(l!==lf&&(i=Error(s(423),{cause:l}),Ho(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=Hf(t.stateNode,l,h),vf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),ll===null?ll=[d]:ll.push(d),ht!==4&&(ht=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,l,t),vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ry(h),sy(h,t,a,l),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(s(461)),bt=!1;function Ht(t,i,a,l){i.child=t===null?ug(i,null,a,l):Vs(i,t.child,a,l)}function ay(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ds(i),l=wf(t,i,a,_,d,h),T=Rf(),t!==null&&!bt?(Cf(t,i,h),qi(t,i,h)):(Le&&T&&af(i),i.flags|=1,Ht(t,i,l,h),i.child)}function oy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ly(t,i,d,l,h)):(t=Uu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=Li(d,l),t.ref=i.ref,t.return=i,i.child=t}function ly(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Bo(d,l)&&t.ref===i.ref)if(bt=!1,i.pendingProps=l=d,Zf(t,h))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return Gf(t,i,a,l,h)}function uy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return cy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(i,d!==null?d.cachePool:null),d!==null?fg(i,d):Tf(),dg(i);else return l=i.lanes=536870912,cy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ju(i,d.cachePool),fg(i,d),Cr(),i.memoizedState=null):(t!==null&&ju(i,null),Tf(),Cr());return Ht(t,i,h,a),i.child}function tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cy(t,i,a,l,h){var d=pf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ju(i,null),Tf(),dg(i),t!==null&&Sa(t,i,l,!0),i.childLanes=h,null}function ic(t,i){return i=sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function hy(t,i,a){return Vs(i,t.child,null,a),t=ic(i,i.pendingProps),t.flags|=2,gn(i),i.memoizedState=null,t}function tA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=ic(i,l),i.lanes=536870912,tl(null,t);if(Af(i),(t=tt)?(t=A_(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=i,i.child=a,jt=i,tt=null)):t=null,t===null)throw Tr(i);return i.lanes=536870912,null}return ic(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=hy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||Sa(t,i,a,!1),h=(a&t.childLanes)!==0,bt||h){if(l=et,l!==null&&(_=So(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ws(t,_),un(l,t,_),Ff;mc(),i=hy(t,i,a)}else t=d.treeContext,tt=Nn(_.nextSibling),jt=i,Le=!0,Er=null,Dn=!1,t!==null&&Jp(i,t),i=ic(i,l),i.flags|=4096;return i}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gf(t,i,a,l,h){return Ds(i),a=wf(t,i,a,l,void 0,h),l=Rf(),t!==null&&!bt?(Cf(t,i,h),qi(t,i,h)):(Le&&l&&af(i),i.flags|=1,Ht(t,i,a,h),i.child)}function fy(t,i,a,l,h,d){return Ds(i),i.updateQueue=null,a=pg(i,l,a,h),mg(t),l=Rf(),t!==null&&!bt?(Cf(t,i,d),qi(t,i,d)):(Le&&l&&af(i),i.flags|=1,Ht(t,i,a,d),i.child)}function dy(t,i,a,l,h){if(Ds(i),i.stateNode===null){var d=_a,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):_a,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&qf.enqueueReplaceState(d,d.state,null),$o(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Ps(a,T);d.props=C;var k=d.context,F=a.contextType;_=_a,typeof F=="object"&&F!==null&&(_=qt(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==_)&&Wg(i,d,l,_),Ar=!1;var B=i.memoizedState;d.state=B,$o(i,l,d,h),Xo(),k=i.memoizedState,T||B!==k||Ar?(typeof Q=="function"&&(jf(i,a,Q,l),k=i.memoizedState),(C=Ar||Zg(i,a,C,l,B,k,_))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_f(t,i),_=i.memoizedProps,F=Ps(a,_),d.props=F,Q=i.pendingProps,B=d.context,k=a.contextType,C=_a,typeof k=="object"&&k!==null&&(C=qt(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||B!==C)&&Wg(i,d,l,C),Ar=!1,B=i.memoizedState,d.state=B,$o(i,l,d,h),Xo();var q=i.memoizedState;_!==Q||B!==q||Ar||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof T=="function"&&(jf(i,a,T,l),q=i.memoizedState),(F=Ar||Zg(i,a,F,l,B,q,C)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=C,l=F):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vs(i,t.child,null,h),i.child=Vs(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function my(t,i,a,l){return Cs(),i.flags|=256,Ht(t,i,a,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:ig()}}function Yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=_n),t}function py(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Rr(i):Cr(),(t=tt)?(t=A_(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=i,i.child=a,jt=i,tt=null)):t=null,t===null)throw Tr(i);return Od(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cr(),h=i.mode,T=sc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,_,a),i.memoizedState=Kf,tl(null,l)):(Rr(i),Xf(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=$f(t,i,a)):i.memoizedState!==null?(Cr(),i.child=t.child,i.flags|=128,i=null):(Cr(),T=l.fallback,h=i.mode,l=sc({mode:"visible",children:l.children},h),T=Rs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Vs(i,t.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,_,a),i.memoizedState=Kf,i=tl(null,l));else if(Rr(i),Od(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var k=_.dgst;_=k,l=Error(s(419)),l.stack="",l.digest=_,Ho({value:l,source:null,stack:null}),i=$f(t,i,a)}else if(bt||Sa(t,i,a,!1),_=(a&t.childLanes)!==0,bt||_){if(_=et,_!==null&&(l=So(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,ws(t,l),un(_,t,l),Ff;Dd(T)||mc(),i=$f(t,i,a)}else Dd(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,tt=Nn(T.nextSibling),jt=i,Le=!0,Er=null,Dn=!1,t!==null&&Jp(i,t),i=Xf(i,l.children),i.flags|=4096);return i}return h?(Cr(),T=l.fallback,h=i.mode,C=t.child,k=C.sibling,l=Li(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,k!==null?T=Li(k,T):(T=Rs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,tl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Qf(a):(h=T.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ig(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Yf(t,_,a),i.memoizedState=Kf,tl(t.child,l)):(Rr(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Xf(t,i){return i=sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sc(t,i){return t=mn(22,t,null,i),t.lanes=0,t}function $f(t,i,a){return Vs(i,t.child,null,a),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hf(t.return,i,a)}function Jf(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function yy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,re(mt,_),Ht(t,i,l,a),l=Le?qo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,a,i);else if(t.tag===19)gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Jf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Jf(i,!0,a,null,d,l);break;case"together":Jf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Sa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function nA(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Sr(i,St,t.memoizedState.cache),Cs();break;case 27:case 5:os(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?py(t,i,a):(Rr(i),t=qi(t,i,a),t!==null?t.sibling:null);Rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Sa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(mt,mt.current),l)break;return null;case 22:return i.lanes=0,uy(t,i,a,i.pendingProps);case 24:Sr(i,St,t.memoizedState.cache)}return qi(t,i,a)}function _y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return bt=!1,nA(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,Le&&(i.flags&1048576)!==0&&$p(i,qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ns(i.elementType),i.type=t,typeof t=="function")nf(t)?(l=Ps(t,l),i.tag=1,i=dy(null,i,t,l,a)):(i.tag=0,i=Gf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=ay(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=oy(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ps(l,i.pendingProps),dy(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,_f(t,i),$o(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,St,l),l!==d.cache&&ff(i,[St],a,!0),Xo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=my(t,i,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),i),Ho(h),i=my(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Nn(t.firstChild),jt=i,Le=!0,Er=null,Dn=!0,a=ug(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),l===h){i=qi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return rc(t,i),t===null?(a=D_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Tc(be.current).createElement(a),l[vt]=i,l[Pt]=t,Ft(l,a,t),Et(l),i.stateNode=l):i.memoizedState=D_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return os(i),t===null&&Le&&(l=i.stateNode=R_(i.type,i.pendingProps,be.current),jt=i,Dn=!0,h=tt,Pr(i.type)?(Nd=h,tt=Nn(l.firstChild)):tt=h),Ht(t,i,i.pendingProps.children,a),rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=MA(l,i.type,i.pendingProps,Dn),l!==null?(i.stateNode=l,jt=i,tt=Nn(l.firstChild),Dn=!1,h=!0):h=!1),h||Tr(i)),os(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Rd(h,d)?l=null:_!==null&&Rd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=wf(t,i,QS,null,null,a),gl._currentValue=h),rc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=VA(a,i.pendingProps,Dn),a!==null?(i.stateNode=a,jt=i,tt=null,t=!0):t=!1),t||Tr(i)),null;case 13:return py(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vs(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return ay(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ds(i),h=qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return oy(t,i,i.type,i.pendingProps,a);case 15:return ly(t,i,i.type,i.pendingProps,a);case 19:return yy(t,i,a);case 31:return tA(t,i,a);case 22:return uy(t,i,a,i.pendingProps);case 24:return Ds(i),l=qt(St),t===null?(h=pf(),h===null&&(h=et,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yf(i),Sr(i,St,h)):((t.lanes&a)!==0&&(_f(t,i),$o(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,St,l)):(l=d.cache,Sr(i,St,l),l!==h.cache&&ff(i,[St],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function Wf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw Ms=Hu,gf}else t.flags&=-16777217}function vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(i))if(Gy())t.flags|=8192;else throw Ms=Hu,gf}function ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?fu():536870912,t.lanes|=i,xa|=i)}function nl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function iA(t,i,a){var l=i.pendingProps;switch(of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Hi(i),d!==null?(nt(i),vy(i,d)):(nt(i),Wf(i,h,null,l,a))):d?d!==t.memoizedState?(Hi(i),nt(i),vy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(i),nt(i),Wf(i,h,t,l,a)),null;case 27:if(Ws(i),a=be.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=oe.current,Ta(i)?Zp(i):(t=R_(h,l,a),i.stateNode=t,Hi(i))}return nt(i),null;case 5:if(Ws(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=oe.current,Ta(i))Zp(i);else{var _=Tc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hi(i)}}return nt(i),Wf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,Ta(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(t.nodeValue,a)),t||Tr(i,!0)}else t=Tc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ta(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),ac(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Td(i.stateNode.containerInfo),nt(i),null;case 10:return zi(i.type),nt(i),null;case 19:if(Y(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)nl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Qu(t),d!==null){for(i.flags|=128,nl(l,!1),t=d.updateQueue,i.updateQueue=t,ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Qp(a,t),a=a.sibling;return re(mt,mt.current&1|2),Le&&Ui(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Wt()>hc&&(i.flags|=128,h=!0,nl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Qu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,ac(i,t),nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*Wt()-l.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,h=!0,nl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,a=mt.current,re(mt,h?a&1|2:a&1),Le&&Ui(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return gn(i),Sf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rA(t,i){switch(of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return zi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ws(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(gn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(mt),null;case 4:return st(),null;case 10:return zi(i.type),null;case 22:case 23:return gn(i),Sf(),t!==null&&Y(Os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return zi(St),null;case 25:return null;default:return null}}function Ey(t,i){switch(of(i),i.tag){case 3:zi(St),st();break;case 26:case 27:case 5:Ws(i);break;case 4:st();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:Y(mt);break;case 10:zi(i.type);break;case 22:case 23:gn(i),Sf(),t!==null&&Y(Os);break;case 24:zi(St)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function Ir(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,k=T;try{k()}catch(F){Ye(h,C,F)}}}l=l.next}while(l!==d)}}catch(F){Ye(i,i.return,F)}}function Ty(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hg(i,a)}catch(l){Ye(t,t.return,l)}}}function Sy(t,i,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function _i(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Ay(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function ed(t,i,a){try{var l=t.stateNode;RA(l,t.type,a,i),l[Pt]=i}catch(h){Ye(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pr(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jn));else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(nd(t,i,a),t=t.sibling;t!==null;)nd(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}function wy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[vt]=t,i[Pt]=a}catch(d){Ye(t,t.return,d)}}var Fi=!1,wt=!1,id=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function sA(t,i){if(t=t.containerInfo,bd=Ic,t=kp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,k=0,F=0,Q=t,B=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(T=_+h),Q!==d||l!==0&&Q.nodeType!==3||(C=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===t)break t;if(B===a&&++k===h&&(T=_),B===d&&++F===l&&(C=_),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},Ic=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Ps(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Cy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),l&4&&il(5,a);break;case 1:if(Ki(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Ty(a),l&512&&rl(a,a.return);break;case 3:if(Ki(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&wy(a);case 26:case 5:Ki(t,a),i===null&&l&4&&Ay(a),l&512&&rl(a,a.return);break;case 12:Ki(t,a);break;case 31:Ki(t,a),l&4&&Oy(t,a);break;case 13:Ki(t,a),l&4&&Ny(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mA.bind(null,a),xA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||wt,h=Fi;var d=wt;Fi=l,(wt=i)&&!d?Qi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Fi=h,wt=d}break;case 30:break;default:Ki(t,a)}}function Iy(t){var i=t.alternate;i!==null&&(t.alternate=null,Iy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ra(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,sn=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Dy(t,i,a),a=a.sibling}function Dy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:wt||_i(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||_i(a,i);var l=ot,h=sn;Pr(a.type)&&(ot=a.stateNode,sn=!1),Gi(t,i,a),dl(a.stateNode),ot=l,sn=h;break;case 5:wt||_i(a,i);case 6:if(l=ot,h=sn,ot=null,Gi(t,i,a),ot=l,sn=h,ot!==null)if(sn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(sn?(t=ot,T_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),qa(t)):T_(ot,a.stateNode));break;case 4:l=ot,h=sn,ot=a.stateNode.containerInfo,sn=!0,Gi(t,i,a),ot=l,sn=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),wt||Ir(4,a,i),Gi(t,i,a);break;case 1:wt||(_i(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sy(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Gi(t,i,a),wt=l;break;default:Gi(t,i,a)}}function Oy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(a){Ye(i,i.return,a)}}}function Ny(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(a){Ye(i,i.return,a)}}function aA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ry),i;default:throw Error(s(435,t.tag))}}function lc(t,i){var a=aA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=pA.bind(null,t,l);l.then(h,h)}})}function an(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Pr(T.type)){ot=T.stateNode,sn=!1;break e}break;case 5:ot=T.stateNode,sn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));Dy(d,_,h),ot=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)My(i,t),i=i.sibling}var Qn=null;function My(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(i,t),on(t),l&4&&(Ir(3,t,t.return),il(3,t),Ir(5,t,t.return));break;case 1:an(i,t),on(t),l&512&&(wt||a===null||_i(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(an(i,t),on(t),l&512&&(wt||a===null||_i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ri]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=M_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=M_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else V_(h,t.type,t.stateNode);else t.stateNode=N_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?V_(h,t.type,t.stateNode):N_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(i,t),on(t),l&512&&(wt||a===null||_i(a,a.return)),a!==null&&l&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(i,t),on(t),l&512&&(wt||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(ue){Ye(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(an(i,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Ye(t,t.return,ue)}}break;case 3:if(bc=null,h=Qn,Qn=Sc(i.containerInfo),an(i,t),Qn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(i.containerInfo)}catch(ue){Ye(t,t.return,ue)}id&&(id=!1,Vy(t));break;case 4:l=Qn,Qn=Sc(t.stateNode.containerInfo),an(i,t),on(t),Qn=l;break;case 12:an(i,t),on(t);break;case 31:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:an(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,k=Fi,F=wt;if(Fi=k||h,wt=F||C,an(i,t),wt=F,Fi=k,on(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Fi||wt||Ls(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Q=C.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Ye(C,C.return,ue)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){Ye(C,C.return,ue)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?S_(q,!0):S_(C.stateNode,!1)}catch(ue){Ye(C,C.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lc(t,a))));break;case 19:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:an(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(by(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=td(t);oc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=td(t);oc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,k=td(t);nd(t,k,C);break;default:throw Error(s(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(t,i.alternate,i),i=i.sibling}function Ls(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Ls(i);break;case 1:_i(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Sy(i,i.return,a),Ls(i);break;case 27:dl(i.stateNode);case 26:case 5:_i(i,i.return),Ls(i);break;case 22:i.memoizedState===null&&Ls(i);break;case 30:Ls(i);break;default:Ls(i)}t=t.sibling}}function Qi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(h,d,a),il(4,d);break;case 1:if(Qi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ye(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cg(C[h],T)}catch(k){Ye(l,l.return,k)}}a&&_&64&&Ty(d),rl(d,d.return);break;case 27:wy(d);case 26:case 5:Qi(h,d,a),a&&l===null&&_&4&&Ay(d),rl(d,d.return);break;case 12:Qi(h,d,a);break;case 31:Qi(h,d,a),a&&_&4&&Oy(h,d);break;case 13:Qi(h,d,a),a&&_&4&&Ny(h,d);break;case 22:d.memoizedState===null&&Qi(h,d,a),rl(d,d.return);break;case 30:break;default:Qi(h,d,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t))}function Yn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xy(t,i,a,l),i=i.sibling}function xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(t,i,a,l),h&2048&&il(9,i);break;case 1:Yn(t,i,a,l);break;case 3:Yn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){Yn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(i,i.return,C)}}else Yn(t,i,a,l);break;case 31:Yn(t,i,a,l);break;case 13:Yn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Yn(t,i,a,l):sl(t,i):d._visibility&2?Yn(t,i,a,l):(d._visibility|=2,Na(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&rd(_,i);break;case 24:Yn(t,i,a,l),h&2048&&sd(i.alternate,i);break;default:Yn(t,i,a,l)}}function Na(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,C=l,k=_.flags;switch(_.tag){case 0:case 11:case 15:Na(d,_,T,C,h),il(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Na(d,_,T,C,h):sl(d,_):(F._visibility|=2,Na(d,_,T,C,h)),h&&k&2048&&rd(_.alternate,_);break;case 24:Na(d,_,T,C,h),h&&k&2048&&sd(_.alternate,_);break;default:Na(d,_,T,C,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&rd(l.alternate,l);break;case 24:sl(a,l),h&2048&&sd(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Ma(t,i,a){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Py(t,i,a),t=t.sibling}function Py(t,i,a){switch(t.tag){case 26:Ma(t,i,a),t.flags&al&&t.memoizedState!==null&&KA(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,i,a);break;case 3:case 4:var l=Qn;Qn=Sc(t.stateNode.containerInfo),Ma(t,i,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=al,al=16777216,Ma(t,i,a),al=l):Ma(t,i,a));break;default:Ma(t,i,a)}}function Ly(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,ky(l,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,uc(t)):ol(t);break;default:ol(t)}}function uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,ky(l,t)}Ly(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uc(i));break;default:uc(i)}t=t.sibling}}function ky(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(Iy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var oA={getCacheForType:function(t){var i=qt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(St).controller.signal}},lA=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,De=null,Ne=0,Qe=0,yn=null,Dr=!1,Va=!1,ad=!1,Yi=0,ht=0,Or=0,Us=0,od=0,_n=0,xa=0,ll=null,ln=null,ld=!1,cc=0,zy=0,hc=1/0,fc=null,Nr=null,Nt=0,Mr=null,Pa=null,Xi=0,ud=0,cd=null,By=null,ul=0,hd=null;function vn(){return(He&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?yd():du()}function jy(){if(_n===0)if((Ne&536870912)===0||Le){var t=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),_n=t}else _n=536870912;return t=pn.current,t!==null&&(t.flags|=32),_n}function un(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(La(t,0),Vr(t,Ne,_n,!1)),hs(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(Us|=a),ht===4&&Vr(t,Ne,_n,!1)),vi(t))}function qy(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||kn(t,i),h=l?hA(t,i):dd(t,i,!0),d=l;do{if(h===0){Va&&!l&&Vr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!uA(a)){h=dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ll;var C=T.current.memoizedState.isDehydrated;if(C&&(La(T,_).flags|=256),_=dd(T,_,!1),_!==2){if(ad&&!C){T.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Vr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,_n,!Dr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=cc+300-Wt(),10<h)){if(Vr(l,i,_n,!Dr),ti(l,0,!0)!==0)break e;Xi=i,l.timeoutHandle=v_(Hy.bind(null,l,a,ln,fc,ld,i,_n,Us,xa,Dr,d,"Throttled",-0,0),h);break e}Hy(l,a,ln,fc,ld,i,_n,Us,xa,Dr,d,null,-0,0)}}break}while(!0);vi(t)}function Hy(t,i,a,l,h,d,_,T,C,k,F,Q,B,q){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Py(i,d,Q);var ue=(d&62914560)===d?cc-Wt():(d&4194048)===d?zy-Wt():0;if(ue=QA(Q,ue),ue!==null){Xi=d,t.cancelPendingCommit=ue(Jy.bind(null,t,i,d,a,l,h,_,T,C,F,Q,null,B,q)),Vr(t,d,_,!k);return}}Jy(t,i,d,a,l,h,_,T,C)}function uA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(t,i,a,l){i&=~od,i&=~Us,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fs(t,a,i)}function dc(){return(He&6)===0?(cl(0),!1):!0}function fd(){if(De!==null){if(Qe===0)var t=De.return;else t=De,ki=Is=null,If(t),Ra=null,Ko=0,t=De;for(;t!==null;)Ey(t.alternate,t),t=t.return;De=null}}function La(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,fd(),et=t,De=a=Li(t.current,null),Ne=i,Qe=0,yn=null,Dr=!1,Va=kn(t,i),ad=!1,xa=_n=od=Us=Or=ht=0,ln=ll=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Yi=i,xu(),a}function Fy(t,i){Ae=null,G.H=el,i===wa||i===qu?(i=ag(),Qe=3):i===gf?(i=ag(),Qe=4):Qe=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,De===null&&(ht=1,nc(t,Rn(i,t.current)))}function Gy(){var t=pn.current;return t===null?!0:(Ne&4194048)===Ne?On===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===On:!1}function Ky(){var t=G.H;return G.H=el,t===null?el:t}function Qy(){var t=G.A;return G.A=oA,t}function mc(){ht=4,Dr||(Ne&4194048)!==Ne&&pn.current!==null||(Va=!0),(Or&134217727)===0&&(Us&134217727)===0||et===null||Vr(et,Ne,_n,!1)}function dd(t,i,a){var l=He;He|=2;var h=Ky(),d=Qy();(et!==t||Ne!==i)&&(fc=null,La(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&De!==null){var T=De,C=yn;switch(Qe){case 8:fd(),_=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var k=Qe;if(Qe=0,yn=null,Ua(t,T,C,k),a&&Va){_=0;break e}break;default:k=Qe,Qe=0,yn=null,Ua(t,T,C,k)}}cA(),_=ht;break}catch(F){Fy(t,F)}while(!0);return i&&t.shellSuspendCounter++,ki=Is=null,He=l,G.H=h,G.A=d,De===null&&(et=null,Ne=0,xu()),_}function cA(){for(;De!==null;)Yy(De)}function hA(t,i){var a=He;He|=2;var l=Ky(),h=Qy();et!==t||Ne!==i?(fc=null,hc=Wt()+500,La(t,i)):Va=kn(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=yn;t:switch(Qe){case 1:Qe=0,yn=null,Ua(t,i,d,1);break;case 2:case 9:if(rg(d)){Qe=0,yn=null,Xy(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),vi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:rg(d)?(Qe=0,yn=null,Xy(i)):(Qe=0,yn=null,Ua(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?x_(_):T.stateNode.complete){Qe=0,yn=null;var C=T.sibling;if(C!==null)De=C;else{var k=T.return;k!==null?(De=k,pc(k)):De=null}break t}}Qe=0,yn=null,Ua(t,i,d,5);break;case 6:Qe=0,yn=null,Ua(t,i,d,6);break;case 8:fd(),ht=6;break e;default:throw Error(s(462))}}fA();break}catch(F){Fy(t,F)}while(!0);return ki=Is=null,G.H=l,G.A=h,He=a,De!==null?0:(et=null,Ne=0,xu(),ht)}function fA(){for(;De!==null&&!qh();)Yy(De)}function Yy(t){var i=_y(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,i===null?pc(t):De=i}function Xy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=fy(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=fy(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:If(i);default:Ey(a,i),i=De=Qp(i,Yi),i=_y(a,i,Yi)}t.memoizedProps=t.pendingProps,i===null?pc(t):De=i}function Ua(t,i,a,l){ki=Is=null,If(i),Ra=null,Ko=0;var h=i.return;try{if(eA(t,h,i,a,Ne)){ht=1,nc(t,Rn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,nc(t,Rn(a,t.current)),De=null;return}i.flags&32768?(Le||l===1?t=!0:Va||(Ne&536870912)!==0?t=!1:(Dr=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(i,t)):pc(i)}function pc(t){var i=t;do{if((i.flags&32768)!==0){$y(i,Dr);return}t=i.return;var a=iA(i.alternate,i,Yi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function $y(t,i){do{var a=rA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function Jy(t,i,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do gc();while(Nt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=ef,Gh(t,a,d,_,T,C),t===et&&(De=et=null,Ne=0),Pa=i,Mr=t,Xi=a,ud=d,cd=h,By=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gA(ur,function(){return n_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,_=He,He|=4;try{sA(t,i,a)}finally{He=_,ie.p=h,G.T=l}}Nt=1,Zy(),Wy(),e_()}}function Zy(){if(Nt===1){Nt=0;var t=Mr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=He;He|=4;try{My(i,t);var d=wd,_=kp(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Up(T.ownerDocument.documentElement,T)){if(C!==null&&Xh(T)){var k=C.start,F=C.end;if(F===void 0&&(F=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),ue=T.textContent.length,pe=Math.min(C.start,ue),Ze=C.end===void 0?pe:Math.min(C.end,ue);!q.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var x=Lp(T,pe),N=Lp(T,Ze);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(x.node,x.offset),q.removeAllRanges(),pe>Ze?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(Q=[],q=T;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var K=Q[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!bd,wd=bd=null}finally{He=h,ie.p=l,G.T=a}}t.current=i,Nt=2}}function Wy(){if(Nt===2){Nt=0;var t=Mr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=He;He|=4;try{Cy(t,i.alternate,i)}finally{He=h,ie.p=l,G.T=a}}Nt=3}}function e_(){if(Nt===4||Nt===3){Nt=0,au();var t=Mr,i=Pa,a=Xi,l=By;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Nt=5:(Nt=0,Pa=Mr=null,t_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),Mi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,ie.p=h}}(Xi&3)!==0&&gc(),vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===hd?ul++:(ul=0,hd=t):ul=0,cl(0)}}function t_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Fo(i)))}function gc(){return Zy(),Wy(),e_(),n_()}function n_(){if(Nt!==5)return!1;var t=Mr,i=ud;ud=0;var a=Mi(Xi),l=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=cd,cd=null;var d=Mr,_=Xi;if(Nt=0,Pa=Mr=null,Xi=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,Uy(d.current),xy(d,d.current,_,a),He=T,cl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{ie.p=h,G.T=l,t_(t,i)}}function i_(t,i,a){i=Rn(a,i),i=Hf(t.stateNode,i,2),t=wr(t,i,2),t!==null&&(hs(t,2),vi(t))}function Ye(t,i,a){if(t.tag===3)i_(t,t,a);else for(;i!==null;){if(i.tag===3){i_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=Rn(a,t),a=ry(2),l=wr(i,a,2),l!==null&&(sy(a,l,i,t),hs(l,2),vi(l));break}}i=i.return}}function md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ad=!0,h.add(a),t=dA.bind(null,t,i,a),i.then(t,t))}function dA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ne&a)===a&&(ht===4||ht===3&&(Ne&62914560)===Ne&&300>Wt()-cc?(He&2)===0&&La(t,0):od|=a,xa===Ne&&(xa=0)),vi(t)}function r_(t,i){i===0&&(i=fu()),t=ws(t,i),t!==null&&(hs(t,i),vi(t))}function mA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),r_(t,a)}function pA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r_(t,a)}function gA(t,i){return Ot(t,i)}var yc=null,ka=null,pd=!1,_c=!1,gd=!1,xr=0;function vi(t){t!==ka&&t.next===null&&(ka===null?yc=ka=t:ka=ka.next=t),_c=!0,pd||(pd=!0,_A())}function cl(t,i){if(!gd&&_c){gd=!0;do for(var a=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(l,d))}else d=Ne,d=ti(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||kn(l,d)||(a=!0,l_(l,d));l=l.next}while(a);gd=!1}}function yA(){s_()}function s_(){_c=pd=!1;var t=0;xr!==0&&IA()&&(t=xr);for(var i=Wt(),a=null,l=yc;l!==null;){var h=l.next,d=a_(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(ka=a)):(a=l,(t!==0||(d&3)!==0)&&(_c=!0)),l=h}Nt!==0&&Nt!==5||cl(t),xr!==0&&(xr=0)}function a_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Fh(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Ne,a=ti(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&lr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&lr(l),Mi(a)){case 2:case 8:a=Eo;break;case 32:a=ur;break;case 268435456:a=ou;break;default:a=ur}return l=o_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&lr(l),t.callbackPriority=2,t.callbackNode=null,2}function o_(t,i){if(Nt!==0&&Nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gc()&&t.callbackNode!==a)return null;var l=Ne;return l=ti(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qy(t,l,i),a_(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?o_.bind(null,t):null)}function l_(t,i){if(gc())return null;qy(t,i,!0)}function _A(){OA(function(){(He&6)!==0?Ot(vo,yA):s_()})}function yd(){if(xr===0){var t=Aa;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),xr=t}return xr}function u_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function c_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=u_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?u_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new fi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var C=_?c_(h,_):new FormData(h);Uf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?c_(h,_):new FormData(h),Uf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],EA=vd.toLowerCase(),TA=vd[0].toUpperCase()+vd.slice(1);Kn(EA,"on"+TA)}Kn(jp,"onAnimationEnd"),Kn(qp,"onAnimationIteration"),Kn(Hp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(US,"onTransitionRun"),Kn(kS,"onTransitionStart"),Kn(zS,"onTransitionCancel"),Kn(Fp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function h_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,k=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch(F){Vu(F)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,k=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch(F){Vu(F)}h.currentTarget=null,d=C}}}}function Oe(t,i){var a=i[ia];a===void 0&&(a=i[ia]=new Set);var l=t+"__bubble";a.has(l)||(f_(i,t,2,!1),a.add(l))}function Ed(t,i,a){var l=0;i&&(l|=4),f_(a,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[vc]){t[vc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(SA.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,Ed("selectionchange",!1,i))}}function f_(t,i,a,l){switch(j_(i)){case 2:var h=$A;break;case 8:h=JA;break;default:h=Ld}a=h.bind(null,i,a,t),h=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=si(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}pr(function(){var k=d,F=Sn(a),Q=[];e:{var B=Gp.get(t);if(B!==void 0){var q=fi,ue=t;switch(t){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":q=Ou;break;case"focusin":ue="focus",q=Ts;break;case"focusout":ue="blur",q=Ts;break;case"beforeblur":case"afterblur":q=Ts;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case jp:case qp:case Hp:q=Au;break;case Fp:q=S;break;case"scroll":case"scrollend":q=Po;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pi;break;case"toggle":case"beforetoggle":q=Se}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),x=pe?B!==null?B+"Capture":null:B;pe=[];for(var N=k,U;N!==null;){var K=N;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||x===null||(K=qn(N,x),K!=null&&pe.push(fl(N,K,U))),Ze)break;N=N.return}0<pe.length&&(B=new q(B,ue,null,a,F),Q.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==Mo&&(ue=a.relatedTarget||a.fromElement)&&(si(ue)||ue[ii]))break e;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ue=a.relatedTarget||a.toElement,q=k,ue=ue?si(ue):null,ue!==null&&(Ze=u(ue),pe=ue.tag,ue!==Ze||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(q=null,ue=k),q!==ue)){if(pe=Lo,K="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Pi,K="onPointerLeave",x="onPointerEnter",N="pointer"),Ze=q==null?B:hn(q),U=ue==null?B:hn(ue),B=new pe(K,N+"leave",q,a,F),B.target=Ze,B.relatedTarget=U,K=null,si(F)===k&&(pe=new pe(x,N+"enter",ue,a,F),pe.target=U,pe.relatedTarget=Ze,K=pe),Ze=K,q&&ue)t:{for(pe=AA,x=q,N=ue,U=0,K=x;K;K=pe(K))U++;K=0;for(var fe=N;fe;fe=pe(fe))K++;for(;0<U-K;)x=pe(x),U--;for(;0<K-U;)N=pe(N),K--;for(;U--;){if(x===N||N!==null&&x===N.alternate){pe=x;break t}x=pe(x),N=pe(N)}pe=null}else pe=null;q!==null&&d_(Q,B,q,pe,!1),ue!==null&&Ze!==null&&d_(Q,Ze,ue,pe,!0)}}e:{if(B=k?hn(k):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Be=Op;else if(Ip(B))if(Np)Be=xS;else{Be=MS;var ce=NS}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&oa(k.elementType)&&(Be=Op):Be=VS;if(Be&&(Be=Be(t,k))){Dp(Q,Be,a,F);break e}ce&&ce(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(ce=k?hn(k):window,t){case"focusin":(Ip(ce)||ce.contentEditable==="true")&&(pa=ce,$h=k,jo=null);break;case"focusout":jo=$h=pa=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,zp(Q,a,F);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":zp(Q,a,F)}var we;if(qe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ma?Ss(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(pi&&a.locale!=="ko"&&(ma||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ma&&(we=xo()):(hi=F,Vo="value"in hi?hi.value:hi.textContent,ma=!0)),ce=Ec(k,Me),0<ce.length&&(Me=new mi(Me,t,null,a,F),Q.push({event:Me,listeners:ce}),we?Me.data=we:(we=da(a),we!==null&&(Me.data=we)))),(we=bn?CS(t,a):IS(t,a))&&(Me=Ec(k,"onBeforeInput"),0<Me.length&&(ce=new mi("onBeforeInput","beforeinput",null,a,F),Q.push({event:ce,listeners:Me}),ce.data=we)),vA(Q,t,k,a,F)}h_(Q,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ec(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qn(t,a),h!=null&&l.unshift(fl(t,h,d)),h=qn(t,i),h!=null&&l.push(fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function AA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,k=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||k===null||(C=k,h?(k=qn(a,d),k!=null&&_.unshift(fl(a,k,C))):h||(k=qn(a,d),k!=null&&_.push(fl(a,k,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var bA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(bA,`
`).replace(wA,"")}function p_(t,i){return i=m_(i),m_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":No(t,l,d);break;case"data":if(i!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),sa(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,sa(t,a,l))}}function Ad(t,i,a,l,h,d){switch(a){case"style":No(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sa(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=_=h=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":_=F;break;case"checked":C=F;break;case"defaultChecked":k=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,l,F,a,null)}}yu(t,d,T,C,k,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?hr(t,!!l,i,!1):a!=null&&hr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}fr(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Oe(hl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,k,l,a,null)}return;default:if(oa(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Ad(t,i,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function RA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,k=null,F=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:l.hasOwnProperty(q)||Je(t,i,q,null,l,Q)}}for(var B in l){var q=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":F=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Q&&Je(t,i,B,q,l,Q)}}aa(t,_,T,C,k,F,d,h);return;case"select":q=_=T=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Je(t,i,h,d,l,C)}i=T,a=_,l=q,B!=null?hr(t,!!a,B,!1):!!l!=!!a&&(i!=null?hr(t,!!a,i,!0):hr(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}_u(t,B,q);return;case"option":for(var ue in a)if(B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Je(t,i,ue,null,l,B)}for(C in l)if(B=l[C],q=a[C],l.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Je(t,i,C,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,B);for(k in l)if(B=l[k],q=a[k],l.hasOwnProperty(k)&&B!==q&&(B!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(t,i,k,B,l,q)}return;default:if(oa(i)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&Ad(t,i,Ze,void 0,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||Ad(t,i,F,B,l,q);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Je(t,i,x,null,l,B);for(Q in l)B=l[Q],q=a[Q],!l.hasOwnProperty(Q)||B===q||B==null&&q==null||Je(t,i,Q,B,l,q)}function g_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&g_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],k=C.startTime;if(k>T)break;var F=C.transferSize,Q=C.initiatorType;F&&g_(Q)&&(C=C.responseEnd,_+=F*(C<T?1:(T-k)/(C-k)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,wd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function IA(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(NA)}:v_;function NA(t){setTimeout(function(){throw t})}function Pr(t){return t==="head"}function T_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&dl(t.ownerDocument.body);a=h}while(a);qa(i)}function S_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function MA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function VA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function A_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Nn(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Nd=null;function b_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Nn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function w_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function R_(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ra(t)}var Mn=new Map,C_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ie.d;ie.d={f:PA,r:LA,D:UA,C:kA,L:zA,m:BA,X:qA,S:jA,M:HA};function PA(){var t=$i.f(),i=dc();return t||i}function LA(t){var i=Tn(t);i!==null&&i.tag===5&&i.type==="form"?Fg(i):$i.r(t)}var za=typeof document>"u"?null:document;function I_(t,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C_.has(h)||(C_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function UA(t){$i.D(t),I_("dns-prefetch",t,null)}function kA(t,i){$i.C(t,i),I_("preconnect",t,i)}function zA(t,i,a){$i.L(t,i,a);var l=za;if(l&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var d=h;switch(i){case"style":d=Ba(t);break;case"script":d=ja(t)}Mn.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function BA(t,i){$i.m(t,i);var a=za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(t)}if(!Mn.has(d)&&(t=A({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function jA(t,i,a){$i.S(t,i,a);var l=za;if(l&&t){var h=ai(l).hoistableStyles,d=Ba(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ml(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&Md(t,a);var C=_=l.createElement("link");Et(C),Ft(C,"link",t),C._p=new Promise(function(k,F){C.onload=k,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function qA(t,i){$i.X(t,i);var a=za;if(a&&t){var l=ai(a).hoistableScripts,h=ja(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=A({src:t,async:!0},i),(i=Mn.get(h))&&Vd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function HA(t,i){$i.M(t,i);var a=za;if(a&&t){var l=ai(a).hoistableScripts,h=ja(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&Vd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function D_(t,i,a,l){var h=(h=be.current)?Sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=ai(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var d=ai(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||FA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=ai(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ba(t){return'href="'+nn(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function FA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function ja(t){return'[src="'+nn(t)+'"]'}function pl(t){return"script[async]"+t}function N_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",h),Ac(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ba(a.href);var d=t.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=O_(a),(h=Mn.get(h))&&Md(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ft(d,"link",l),i.state.loading|=4,Ac(d,a.precedence,t),i.instance=d;case"script":return d=ja(a.src),(h=t.querySelector(pl(d)))?(i.instance=h,Et(h),h):(l=a,(h=Mn.get(d))&&(l=A({},a),Vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ac(l,a.precedence,t));return i.instance}function Ac(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bc=null;function M_(t,i,a){if(bc===null){var l=new Map,h=bc=new Map;h.set(a,l)}else h=bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ri]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function V_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function GA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(l.href),d=i.querySelector(ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=wc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=O_(l),(h=Mn.get(h))&&Md(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var xd=0;function QA(t,i){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&xd===0&&(xd=62500*CA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Cc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(YA,t),Rc=null,wc.call(t))}function YA(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var l=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var gl={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function XA(t,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function P_(t,i,a,l,h,d,_,T,C,k,F,Q){return t=new XA(t,i,a,_,C,k,F,Q,T),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yf(d),t}function L_(t){return t?(t=_a,t):_a}function U_(t,i,a,l,h,d){h=L_(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(t,l,i),a!==null&&(un(a,t,i),Yo(a,t,i))}function k_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Pd(t,i){k_(t,i),(t=t.alternate)&&k_(t,i)}function z_(t){if(t.tag===13||t.tag===31){var i=ws(t,67108864);i!==null&&un(i,t,67108864),Pd(t,67108864)}}function B_(t){if(t.tag===13||t.tag===31){var i=vn();i=ds(i);var a=ws(t,i);a!==null&&un(a,t,i),Pd(t,i)}}var Ic=!0;function $A(t,i,a,l){var h=G.T;G.T=null;var d=ie.p;try{ie.p=2,Ld(t,i,a,l)}finally{ie.p=d,G.T=h}}function JA(t,i,a,l){var h=G.T;G.T=null;var d=ie.p;try{ie.p=8,Ld(t,i,a,l)}finally{ie.p=d,G.T=h}}function Ld(t,i,a,l){if(Ic){var h=Ud(l);if(h===null)Sd(t,i,l,Dc,a),q_(t,l);else if(WA(h,t,i,a,l))l.stopPropagation();else if(q_(t,l),i&4&&-1<ZA.indexOf(t)){for(;h!==null;){var d=Tn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ei(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-ft(_);T.entanglements[1]|=C,_&=~C}vi(d),(He&6)===0&&(hc=Wt()+500,cl(0))}}break;case 31:case 13:T=ws(d,2),T!==null&&un(T,d,2),dc(),Pd(d,2)}if(d=Ud(l),d===null&&Sd(t,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sd(t,i,l,null,a)}}function Ud(t){return t=Sn(t),kd(t)}var Dc=null;function kd(t){if(Dc=null,t=si(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function j_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case vo:return 2;case Eo:return 8;case ur:case Hh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var zd=!1,Lr=null,Ur=null,kr=null,yl=new Map,_l=new Map,zr=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(t,i){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Tn(i),i!==null&&z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function WA(t,i,a,l,h){switch(i){case"focusin":return Lr=vl(Lr,t,i,a,l,h),!0;case"dragenter":return Ur=vl(Ur,t,i,a,l,h),!0;case"mouseover":return kr=vl(kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return yl.set(d,vl(yl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,vl(_l.get(d)||null,t,i,a,l,h)),!0}return!1}function H_(t){var i=si(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,zn(t.priority,function(){B_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,zn(t.priority,function(){B_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mo=l,a.target.dispatchEvent(l),Mo=null}else return i=Tn(a),i!==null&&z_(i),t.blockedOn=a,!1;i.shift()}return!0}function F_(t,i,a){Oc(t)&&a.delete(i)}function eb(){zd=!1,Lr!==null&&Oc(Lr)&&(Lr=null),Ur!==null&&Oc(Ur)&&(Ur=null),kr!==null&&Oc(kr)&&(kr=null),yl.forEach(F_),_l.forEach(F_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eb)))}var Mc=null;function G_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var d=Tn(a);d!==null&&(t.splice(i,3),i-=3,Uf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function qa(t){function i(C){return Nc(C,t)}Lr!==null&&Nc(Lr,t),Ur!==null&&Nc(Ur,t),kr!==null&&Nc(kr,t),yl.forEach(i),_l.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||G_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)T=_.formAction;else if(kd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),G_(a)}}}function K_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}Vc.prototype.render=Bd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();U_(a,l,t,i,null,null)},Vc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;U_(t.current,2,null,t,null,null),dc(),i[ii]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=du();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,t),a===0&&H_(t)}};var Q_=e.version;if(Q_!=="19.2.0")throw Error(s(527,Q_,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var tb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Un=xc.inject(tb),zt=xc}catch{}}return Tl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ey,d=ty,_=ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=P_(t,1,!1,null,null,a,l,null,h,d,_,K_),t[ii]=i.current,Td(t),new Bd(i)},Tl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ey,_=ty,T=ny,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=P_(t,1,!0,i,a??null,l,h,C,d,_,T,K_),i.context=L_(null),a=i.current,l=vn(),l=ds(l),h=br(l),h.callback=null,wr(a,h,l),a=l,i.current.lanes=a,hs(i,a),vi(i),t[ii]=i.current,Td(t),new Vc(i)},Tl.version="19.2.0",Tl}var iv;function fb(){if(iv)return Hd.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=hb(),Hd.exports}var db=fb();const mb=ib(db);var rv="popstate";function pb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return om("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ll(o)}return yb(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ii(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gb(){return Math.random().toString(36).substring(2,10)}function sv(r,e){return{usr:r.state,key:r.key,idx:e}}function om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:n,key:e&&e.key||s||gb()}}function Ll({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ao(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function yb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let H=E(),ee=H==null?null:H-y;y=H,g&&g({action:m,location:Z.location,delta:ee})}function D(H,ee){m="PUSH";let te=om(Z.location,H,ee);y=E()+1;let se=sv(te,y),Re=Z.createHref(te);try{f.pushState(se,"",Re)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(Re)}u&&g&&g({action:m,location:Z.location,delta:1})}function z(H,ee){m="REPLACE";let te=om(Z.location,H,ee);y=E();let se=sv(te,y),Re=Z.createHref(te);f.replaceState(se,"",Re),u&&g&&g({action:m,location:Z.location,delta:0})}function $(H){return _b(H)}let Z={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(rv,A),g=H,()=>{o.removeEventListener(rv,A),g=null}},createHref(H){return e(o,H)},createURL:$,encodeLocation(H){let ee=$(H);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:D,replace:z,go(H){return f.go(H)}};return Z}function _b(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ll(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function PE(r,e,n="/"){return vb(r,e,n,!1)}function vb(r,e,n,s){let o=typeof e=="string"?ao(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=LE(r);Eb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Nb(u);m=Db(f[g],y,s)}return m}function LE(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=Wi([s,E.relativePath]),D=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),LE(f.children,e,D,A,g)),!(f.path==null&&!f.index)&&e.push({path:A,score:Cb(A,f.index),routesMeta:D})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of UE(f.path))u(f,m,!0,g)}),e}function UE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=UE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Eb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ib(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Tb=/^:[\w-]+$/,Sb=3,Ab=2,bb=1,wb=10,Rb=-2,av=r=>r==="*";function Cb(r,e){let n=r.split("/"),s=n.length;return n.some(av)&&(s+=Rb),e&&(s+=Ab),n.filter(o=>!av(o)).reduce((o,u)=>o+(Tb.test(u)?Sb:u===""?bb:wb),s)}function Ib(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Db(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),D=g.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Wi([u,A.pathname]),pathnameBase:Pb(Wi([u,A.pathnameBase])),route:D}),A.pathnameBase!=="/"&&(u=Wi([u,A.pathnameBase]))}return f}function th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Ob(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},D)=>{if(E==="*"){let $=m[D]||"";f=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const z=m[D];return A&&!z?y[E]=void 0:y[E]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Ob(r,e=!1,n=!0){Ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Nb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function tr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Mb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ao(r):r;return{pathname:n?n.startsWith("/")?n:Vb(n,e):e,search:Lb(s),hash:Ub(o)}}function Vb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kE(r){let e=xb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function zE(r,e,n,s=!1){let o;typeof r=="string"?o=ao(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Qd("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Qd("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Qd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),A-=1;o.pathname=D.join("/")}m=A>=0?e[A]:"/"}let g=Mb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),Pb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Lb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ub=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var zb=["GET",...BE];new Set(zb);var oo=X.createContext(null);oo.displayName="DataRouter";var Sh=X.createContext(null);Sh.displayName="DataRouterState";X.createContext(!1);var jE=X.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var Bb=X.createContext(new Map);Bb.displayName="Fetchers";var jb=X.createContext(null);jb.displayName="Await";var Ni=X.createContext(null);Ni.displayName="Navigation";var Kl=X.createContext(null);Kl.displayName="Location";var ar=X.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Lm=X.createContext(null);Lm.displayName="RouteError";function qb(r,{relative:e}={}){lt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=X.useContext(Ni),{hash:o,pathname:u,search:f}=Yl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ql(){return X.useContext(Kl)!=null}function Qs(){return lt(Ql(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Kl).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HE(r){X.useContext(Ni).static||X.useLayoutEffect(r)}function FE(){let{isDataRoute:r}=X.useContext(ar);return r?t1():Hb()}function Hb(){lt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(oo),{basename:e,navigator:n}=X.useContext(Ni),{matches:s}=X.useContext(ar),{pathname:o}=Qs(),u=JSON.stringify(kE(s)),f=X.useRef(!1);return HE(()=>{f.current=!0}),X.useCallback((g,y={})=>{if(Ii(f.current,qE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=zE(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}X.createContext(null);function Yl(r,{relative:e}={}){let{matches:n}=X.useContext(ar),{pathname:s}=Qs(),o=JSON.stringify(kE(n));return X.useMemo(()=>zE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Fb(r,e){return GE(r,e)}function GE(r,e,n,s,o){lt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=X.useContext(Ni),{matches:f}=X.useContext(ar),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let te=A&&A.path||"";KE(y,!A||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let D=Qs(),z;if(e){let te=typeof e=="string"?ao(e):e;lt(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),z=te}else z=D;let $=z.pathname||"/",Z=$;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Z="/"+$.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=PE(r,{pathname:Z});Ii(A||H!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Ii(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=Xb(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:Wi([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Wi([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ee?X.createElement(Kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},ee):ee}function Gb(){let r=e1(),e=kb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var Kb=X.createElement(Gb,null),Qb=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?X.createElement(ar.Provider,{value:this.props.routeContext},X.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yb({routeContext:r,match:e,children:n}){let s=X.useContext(oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(ar.Provider,{value:r},n)}function Xb(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);lt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:A,errors:D}=n,z=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!D||D[E.route.id]===void 0);if(E.route.lazy||z){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,A)=>{let D,z=!1,$=null,Z=null;n&&(D=f&&E.route.id?f[E.route.id]:void 0,$=E.route.errorElement||Kb,m&&(g<0&&A===0?(KE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,Z=null):g===A&&(z=!0,Z=E.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,A+1)),ee=()=>{let te;return D?te=$:z?te=Z:E.route.Component?te=X.createElement(E.route.Component,null):E.route.element?te=E.route.element:te=y,X.createElement(Yb,{match:E,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:te})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?X.createElement(Qb,{location:n.location,revalidation:n.revalidation,component:$,error:D,children:ee(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):ee()},null)}function Um(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(r){let e=X.useContext(oo);return lt(e,Um(r)),e}function Jb(r){let e=X.useContext(Sh);return lt(e,Um(r)),e}function Zb(r){let e=X.useContext(ar);return lt(e,Um(r)),e}function km(r){let e=Zb(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Wb(){return km("useRouteId")}function e1(){let r=X.useContext(Lm),e=Jb("useRouteError"),n=km("useRouteError");return r!==void 0?r:e.errors?.[n]}function t1(){let{router:r}=$b("useNavigate"),e=km("useNavigate"),n=X.useRef(!1);return HE(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{Ii(n.current,qE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var ov={};function KE(r,e,n){!e&&!ov[r]&&(ov[r]=!0,Ii(!1,n))}X.memo(n1);function n1({routes:r,future:e,state:n,unstable_onError:s}){return GE(r,void 0,n,s,e)}function qc(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ao(n));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:D="default"}=n,z=X.useMemo(()=>{let $=tr(g,f);return $==null?null:{location:{pathname:$,search:y,hash:E,state:A,key:D},navigationType:s}},[f,g,y,E,A,D,s]);return Ii(z!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:X.createElement(Ni.Provider,{value:m},X.createElement(Kl.Provider,{children:e,value:z}))}function r1({children:r,location:e}){return Fb(lm(r),e)}function lm(r,e=[]){let n=[];return X.Children.forEach(r,(s,o)=>{if(!X.isValidElement(s))return;let u=[...e,o];if(s.type===X.Fragment){n.push.apply(n,lm(s.props.children,u));return}lt(s.type===qc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),n.push(f)}),n}var Hc="get",Fc="application/x-www-form-urlencoded";function Ah(r){return r!=null&&typeof r.tagName=="string"}function s1(r){return Ah(r)&&r.tagName.toLowerCase()==="button"}function a1(r){return Ah(r)&&r.tagName.toLowerCase()==="form"}function o1(r){return Ah(r)&&r.tagName.toLowerCase()==="input"}function l1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function u1(r,e){return r.button===0&&(!e||e==="_self")&&!l1(r)}var Pc=null;function c1(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(r){return r!=null&&!h1.has(r)?(Ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function f1(r,e){let n,s,o,u,f;if(a1(r)){let m=r.getAttribute("action");s=m?tr(m,e):null,n=r.getAttribute("method")||Hc,o=Yd(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(s1(r)||o1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?tr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=Yd(r.getAttribute("formenctype"))||Yd(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!c1()){let{name:y,type:E,value:A}=r;if(E==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,A)}}else{if(Ah(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,s=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function d1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&tr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function m1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function g1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await m1(u,n);return f.links?f.links():[]}return[]}));return E1(s.flat(1).filter(p1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function y1(r,e,{includeHydrateFallback:n}={}){return _1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _1(r){return[...new Set(r)]}function v1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function E1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(v1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function QE(){let r=X.useContext(oo);return zm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function T1(){let r=X.useContext(Sh);return zm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bm=X.createContext(void 0);Bm.displayName="FrameworkContext";function YE(){let r=X.useContext(Bm);return zm(r,"You must render this element inside a <HydratedRouter> element"),r}function S1(r,e){let n=X.useContext(Bm),[s,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,D=X.useRef(null);X.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ee=>{ee.forEach(te=>{f(te.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[r]),X.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let z=()=>{o(!0)},$=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:Sl(m,z),onBlur:Sl(g,$),onMouseEnter:Sl(y,z),onMouseLeave:Sl(E,$),onTouchStart:Sl(A,z)}]:[!1,D,{}]}function Sl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function A1({page:r,...e}){let{router:n}=QE(),s=X.useMemo(()=>PE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?X.createElement(w1,{page:r,matches:s,...e}):null}function b1(r){let{manifest:e,routeModules:n}=YE(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return g1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function w1({page:r,matches:e,...n}){let s=Qs(),{manifest:o,routeModules:u}=YE(),{basename:f}=QE(),{loaderData:m,matches:g}=T1(),y=X.useMemo(()=>lv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=X.useMemo(()=>lv(r,e,g,o,s,"assets"),[r,e,g,o,s]),A=X.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,Z=!1;if(e.forEach(ee=>{let te=o.routes[ee.route.id];!te||!te.hasLoader||(!y.some(se=>se.route.id===ee.route.id)&&ee.route.id in m&&u[ee.route.id]?.shouldRevalidate||te.hasClientLoader?Z=!0:$.add(ee.route.id))}),$.size===0)return[];let H=d1(r,f,"data");return Z&&$.size>0&&H.searchParams.set("_routes",e.filter(ee=>$.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),D=X.useMemo(()=>y1(E,o),[E,o]),z=b1(E);return X.createElement(X.Fragment,null,A.map($=>X.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),D.map($=>X.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),z.map(({key:$,link:Z})=>X.createElement("link",{key:$,nonce:n.nonce,...Z})))}function R1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.9.5")}catch{}function C1({basename:r,children:e,window:n}){let s=X.useRef();s.current==null&&(s.current=pb({window:n,v5Compat:!0}));let o=s.current,[u,f]=X.useState({action:o.action,location:o.location}),m=X.useCallback(g=>{X.startTransition(()=>f(g))},[f]);return X.useLayoutEffect(()=>o.listen(m),[o,m]),X.createElement(i1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var $E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JE=X.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...D},z){let{basename:$}=X.useContext(Ni),Z=typeof y=="string"&&$E.test(y),H,ee=!1;if(typeof y=="string"&&Z&&(H=y,XE))try{let w=new URL(window.location.href),V=y.startsWith("//")?new URL(w.protocol+y):new URL(y),O=tr(V.pathname,$);V.origin===w.origin&&O!=null?y=O+V.search+V.hash:ee=!0}catch{Ii(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=qb(y,{relative:o}),[se,Re,Ie]=S1(s,D),Ce=N1(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function I(w){e&&e(w),w.defaultPrevented||Ce(w)}let b=X.createElement("a",{...D,...Ie,href:H||te,onClick:ee||u?e:I,ref:R1(z,Re),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return se&&!Z?X.createElement(X.Fragment,null,b,X.createElement(A1,{page:te})):b});JE.displayName="Link";var I1=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=Yl(f,{relative:y.relative}),D=Qs(),z=X.useContext(Sh),{navigator:$,basename:Z}=X.useContext(Ni),H=z!=null&&L1(A)&&m===!0,ee=$.encodeLocation?$.encodeLocation(A).pathname:A.pathname,te=D.pathname,se=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(te=te.toLowerCase(),se=se?se.toLowerCase():null,ee=ee.toLowerCase()),se&&Z&&(se=tr(se,Z)||se);const Re=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let Ie=te===ee||!o&&te.startsWith(ee)&&te.charAt(Re)==="/",Ce=se!=null&&(se===ee||!o&&se.startsWith(ee)&&se.charAt(ee.length)==="/"),I={isActive:Ie,isPending:Ce,isTransitioning:H},b=Ie?e:void 0,w;typeof s=="function"?w=s(I):w=[s,Ie?"active":null,Ce?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return X.createElement(JE,{...y,"aria-current":b,className:w,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(I):g)});I1.displayName="NavLink";var D1=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...D},z)=>{let $=x1(),Z=P1(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&$E.test(m),te=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let Re=se.nativeEvent.submitter,Ie=Re?.getAttribute("formmethod")||f;$(Re||se.currentTarget,{fetcherKey:e,method:Ie,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return X.createElement("form",{ref:z,method:H,action:Z,onSubmit:s?g:te,...D,"data-discover":!ee&&r==="render"?"true":void 0})});D1.displayName="Form";function O1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(r){let e=X.useContext(oo);return lt(e,O1(r)),e}function N1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=FE(),g=Qs(),y=Yl(r,{relative:u});return X.useCallback(E=>{if(u1(E,e)){E.preventDefault();let A=n!==void 0?n:Ll(g)===Ll(y);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var M1=0,V1=()=>`__${String(++M1)}__`;function x1(){let{router:r}=ZE("useSubmit"),{basename:e}=X.useContext(Ni),n=Wb();return X.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=f1(s,e);if(o.navigate===!1){let E=o.fetcherKey||V1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function P1(r,{relative:e}={}){let{basename:n}=X.useContext(Ni),s=X.useContext(ar);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Yl(r||".",{relative:e})},f=Qs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Ll(u)}function L1(r,{relative:e}={}){let n=X.useContext(jE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=Yl(r,{relative:e});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return th(o.pathname,f)!=null||th(o.pathname,u)!=null}const U1=()=>{};var uv={};const WE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},k1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,z=y&63;g||(z=64,f||(D=64)),s.push(n[E],n[A],n[D],n[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(WE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):k1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new z1;const D=u<<2|m>>4;if(s.push(D),y!==64){const z=m<<4&240|y>>2;if(s.push(z),A!==64){const $=y<<6&192|A;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const e=WE(r);return eT.encodeByteArray(e,!0)},nh=function(r){return B1(r).replace(/\./g,"")},tT=function(r){try{return eT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q1=()=>j1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof uv>"u")return;const r=uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},F1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tT(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return U1()||q1()||H1()||F1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nT=r=>bh()?.emulatorHosts?.[r],G1=r=>{const e=nT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iT=()=>bh()?.config,rT=r=>bh()?.[`_${r}`];class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(r){return(await fetch(r,{credentials:"include"})).ok}function Q1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Dl={};function Y1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?r.emulator.push(e):r.prod.push(e);return r}function X1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let cv=!1;function aT(r,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Dl[r]===e||Dl[r]||cv)return;Dl[r]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=Y1().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function m(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,z){D.setAttribute("width","24"),D.setAttribute("id",z),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{cv=!0,f()},D}function E(D,z){D.setAttribute("id",z),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=X1(s),z=n("text"),$=document.getElementById(z)||document.createElement("span"),Z=n("learnmore"),H=document.getElementById(Z)||document.createElement("a"),ee=n("preprendIcon"),te=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const se=D.element;m(se),E(H,Z);const Re=y();g(te,ee),se.append(te,$,H,Re),document.body.appendChild(se)}u?($.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function J1(){const r=bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tw(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nw(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iw(){try{return typeof indexedDB=="object"}catch{return!1}}function rw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const sw="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sw,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?aw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function aw(r,e){return r.replace(ow,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ow=/\{\$([^}]+)}/g;function lw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(hv(u)&&hv(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function hv(r){return r!==null&&typeof r=="object"}function $l(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Al(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function uw(r,e){const n=new cw(r,e);return n.subscribe.bind(n)}class cw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xd(){}function Ln(r){return r&&r._delegate?r._delegate:r}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ks="[DEFAULT]";class fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new K1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(r){return r===ks?void 0:r}function mw(r){return r.instantiationMode==="EAGER"}class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const gw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},yw=Ve.INFO,_w={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},vw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=_w[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=yw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Ew=(r,e)=>e.some(n=>r instanceof n);let fv,dv;function Tw(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sw(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,um=new WeakMap,lT=new WeakMap,$d=new WeakMap,qm=new WeakMap;function Aw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oT.set(n,r)}).catch(()=>{}),qm.set(e,r),e}function bw(r){if(um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});um.set(r,e)}let cm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ww(r){cm=r(cm)}function Rw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jd(this),e,...n);return lT.set(s,e.sort?e.sort():[e]),Qr(s)}:Sw().includes(r)?function(...e){return r.apply(Jd(this),e),Qr(oT.get(this))}:function(...e){return Qr(r.apply(Jd(this),e))}}function Cw(r){return typeof r=="function"?Rw(r):(r instanceof IDBTransaction&&bw(r),Ew(r,Tw())?new Proxy(r,cm):r)}function Qr(r){if(r instanceof IDBRequest)return Aw(r);if($d.has(r))return $d.get(r);const e=Cw(r);return e!==r&&($d.set(r,e),qm.set(e,r)),e}const Jd=r=>qm.get(r);function Iw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Dw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],Zd=new Map;function mv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Ow.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Dw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Zd.set(e,u),u}ww(r=>({...r,get:(e,n,s)=>mv(e,n)||r.get(e,n,s),has:(e,n)=>!!mv(e,n)||r.has(e,n)}));class Nw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mw(r){return r.getComponent()?.type==="VERSION"}const hm="@firebase/app",pv="0.14.5";const nr=new jm("@firebase/app"),Vw="@firebase/app-compat",xw="@firebase/analytics-compat",Pw="@firebase/analytics",Lw="@firebase/app-check-compat",Uw="@firebase/app-check",kw="@firebase/auth",zw="@firebase/auth-compat",Bw="@firebase/database",jw="@firebase/data-connect",qw="@firebase/database-compat",Hw="@firebase/functions",Fw="@firebase/functions-compat",Gw="@firebase/installations",Kw="@firebase/installations-compat",Qw="@firebase/messaging",Yw="@firebase/messaging-compat",Xw="@firebase/performance",$w="@firebase/performance-compat",Jw="@firebase/remote-config",Zw="@firebase/remote-config-compat",Ww="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",rR="firebase",sR="12.5.0";const fm="[DEFAULT]",aR={[hm]:"fire-core",[Vw]:"fire-core-compat",[Pw]:"fire-analytics",[xw]:"fire-analytics-compat",[Uw]:"fire-app-check",[Lw]:"fire-app-check-compat",[kw]:"fire-auth",[zw]:"fire-auth-compat",[Bw]:"fire-rtdb",[jw]:"fire-data-connect",[qw]:"fire-rtdb-compat",[Hw]:"fire-fn",[Fw]:"fire-fn-compat",[Gw]:"fire-iid",[Kw]:"fire-iid-compat",[Qw]:"fire-fcm",[Yw]:"fire-fcm-compat",[Xw]:"fire-perf",[$w]:"fire-perf-compat",[Jw]:"fire-rc",[Zw]:"fire-rc-compat",[Ww]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};const ih=new Map,oR=new Map,dm=new Map;function gv(r,e){try{r.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Za(r){const e=r.name;if(dm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,r);for(const n of ih.values())gv(n,r);for(const n of oR.values())gv(n,r);return!0}function Hm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Vn(r){return r==null?!1:r.settings!==void 0}const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Xl("app","Firebase",lR);class uR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const uo=sR;function uT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(n||(n=iT()),!n)throw Yr.create("no-options");const u=ih.get(o);if(u){if(js(n,u.options)&&js(s,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const f=new pw(o);for(const g of dm.values())f.addComponent(g);const m=new uR(n,s,f);return ih.set(o,m),m}function cT(r=fm){const e=ih.get(r);if(!e&&r===fm&&iT())return uT();if(!e)throw Yr.create("no-app",{appName:r});return e}function Xr(r,e,n){let s=aR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(f.join(" "));return}Za(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const cR="firebase-heartbeat-database",hR=1,Ul="firebase-heartbeat-store";let Wd=null;function hT(){return Wd||(Wd=Iw(cR,hR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function fR(r){try{const n=(await hT()).transaction(Ul),s=await n.objectStore(Ul).get(fT(r));return await n.done,s}catch(e){if(e instanceof or)nr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(n.message)}}}async function yv(r,e){try{const s=(await hT()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(e,fT(r)),await s.done}catch(n){if(n instanceof or)nr.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function fT(r){return`${r.name}!${r.options.appId}`}const dR=1024,mR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_v(),{heartbeatsToSend:n,unsentEntries:s}=gR(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return nr.warn(e),""}}}function _v(){return new Date().toISOString().substring(0,10)}function gR(r,e=dR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iw()?rw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function _R(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function vR(r){Za(new qs("platform-logger",e=>new Nw(e),"PRIVATE")),Za(new qs("heartbeat",e=>new pR(e),"PRIVATE")),Xr(hm,pv,r),Xr(hm,pv,"esm2020"),Xr("fire-js","")}vR("");var ER="firebase",TR="12.5.0";Xr(ER,TR,"app");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,dT;(function(){var r;function e(I,b){function w(){}w.prototype=b.prototype,I.F=b.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(V,O,P){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return b.prototype[O].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,w){w||(w=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;O<16;++O)V[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=I.g[0],w=I.g[1],O=I.g[2];let P=I.g[3],R;R=b+(P^w&(O^P))+V[0]+3614090360&4294967295,b=w+(R<<7&4294967295|R>>>25),R=P+(O^b&(w^O))+V[1]+3905402710&4294967295,P=b+(R<<12&4294967295|R>>>20),R=O+(w^P&(b^w))+V[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=w+(b^O&(P^b))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(P^w&(O^P))+V[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=P+(O^b&(w^O))+V[5]+1200080426&4294967295,P=b+(R<<12&4294967295|R>>>20),R=O+(w^P&(b^w))+V[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=w+(b^O&(P^b))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(P^w&(O^P))+V[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=P+(O^b&(w^O))+V[9]+2336552879&4294967295,P=b+(R<<12&4294967295|R>>>20),R=O+(w^P&(b^w))+V[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=w+(b^O&(P^b))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(P^w&(O^P))+V[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=P+(O^b&(w^O))+V[13]+4254626195&4294967295,P=b+(R<<12&4294967295|R>>>20),R=O+(w^P&(b^w))+V[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=w+(b^O&(P^b))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(O^P&(w^O))+V[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=P+(w^O&(b^w))+V[6]+3225465664&4294967295,P=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(P^b))+V[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=w+(P^b&(O^P))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(O^P&(w^O))+V[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=P+(w^O&(b^w))+V[10]+38016083&4294967295,P=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(P^b))+V[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=w+(P^b&(O^P))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(O^P&(w^O))+V[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=P+(w^O&(b^w))+V[14]+3275163606&4294967295,P=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(P^b))+V[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=w+(P^b&(O^P))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(O^P&(w^O))+V[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=P+(w^O&(b^w))+V[2]+4243563512&4294967295,P=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(P^b))+V[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=w+(P^b&(O^P))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(w^O^P)+V[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=P+(b^w^O)+V[8]+2272392833&4294967295,P=b+(R<<11&4294967295|R>>>21),R=O+(P^b^w)+V[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=w+(O^P^b)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(w^O^P)+V[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=P+(b^w^O)+V[4]+1272893353&4294967295,P=b+(R<<11&4294967295|R>>>21),R=O+(P^b^w)+V[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=w+(O^P^b)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(w^O^P)+V[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=P+(b^w^O)+V[0]+3936430074&4294967295,P=b+(R<<11&4294967295|R>>>21),R=O+(P^b^w)+V[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=w+(O^P^b)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(w^O^P)+V[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=P+(b^w^O)+V[12]+3873151461&4294967295,P=b+(R<<11&4294967295|R>>>21),R=O+(P^b^w)+V[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=w+(O^P^b)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(O^(w|~P))+V[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=P+(w^(b|~O))+V[7]+1126891415&4294967295,P=b+(R<<10&4294967295|R>>>22),R=O+(b^(P|~w))+V[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=w+(P^(O|~b))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=b+(O^(w|~P))+V[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=P+(w^(b|~O))+V[3]+2399980690&4294967295,P=b+(R<<10&4294967295|R>>>22),R=O+(b^(P|~w))+V[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=w+(P^(O|~b))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=b+(O^(w|~P))+V[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=P+(w^(b|~O))+V[15]+4264355552&4294967295,P=b+(R<<10&4294967295|R>>>22),R=O+(b^(P|~w))+V[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=w+(P^(O|~b))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=b+(O^(w|~P))+V[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=P+(w^(b|~O))+V[11]+3174756917&4294967295,P=b+(R<<10&4294967295|R>>>22),R=O+(b^(P|~w))+V[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=w+(P^(O|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const w=b-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<b;){if(O==0)for(;P<=w;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<b;)if(V[O++]=I.charCodeAt(P++),O==this.blockSize){o(this,V),O=0;break}}else for(;P<b;)if(V[O++]=I[P++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)I[b++]=this.g[w]>>>V&255;return I};function u(I,b){var w=m;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=b(I)}function f(I,b){this.h=b;const w=[];let V=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;V&&P==b||(w[O]=P,V=!1)}this.g=w}var m={};function g(I){return-128<=I&&I<128?u(I,function(b){return new f([b|0],b<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return H(y(-I));const b=[];let w=1;for(let V=0;I>=w;V++)b[V]=I/w|0,w*=4294967296;return new f(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return H(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(b,8));let V=A;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+O),b);O<8?(O=y(Math.pow(b,O)),V=V.j(O).add(y(R))):(V=V.j(w),V=V.add(y(R)))}return V}var A=g(0),D=g(1),z=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-H(this).m();let I=0,b=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(Z(this))return"-"+H(this).toString(I);const b=y(Math.pow(I,6));var w=this;let V="";for(;;){const O=Re(w,b).g;w=ee(w,O.j(b));let P=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=O,$(w))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function Z(I){return I.h==-1}r.l=function(I){return I=ee(this,I),Z(I)?-1:$(I)?0:1};function H(I){const b=I.g.length,w=[];for(let V=0;V<b;V++)w[V]=~I.g[V];return new f(w,~I.h).add(D)}r.abs=function(){return Z(this)?H(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),w=[];let V=0;for(let O=0;O<=b;O++){let P=V+(this.i(O)&65535)+(I.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=R>>>16,P&=65535,R&=65535,w[O]=R<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function ee(I,b){return I.add(H(b))}r.j=function(I){if($(this)||$(I))return A;if(Z(this))return Z(I)?H(this).j(H(I)):H(H(this).j(I));if(Z(I))return H(this.j(H(I)));if(this.l(z)<0&&I.l(z)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,w=[];for(var V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const P=this.i(V)>>>16,R=this.i(V)&65535,rt=I.i(O)>>>16,It=I.i(O)&65535;w[2*V+2*O]+=R*It,te(w,2*V+2*O),w[2*V+2*O+1]+=P*It,te(w,2*V+2*O+1),w[2*V+2*O+1]+=R*rt,te(w,2*V+2*O+1),w[2*V+2*O+2]+=P*rt,te(w,2*V+2*O+2)}for(I=0;I<b;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=b;I<2*b;I++)w[I]=0;return new f(w,0)};function te(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function se(I,b){this.g=I,this.h=b}function Re(I,b){if($(b))throw Error("division by zero");if($(I))return new se(A,A);if(Z(I))return b=Re(H(I),b),new se(H(b.g),H(b.h));if(Z(b))return b=Re(I,H(b)),new se(H(b.g),b.h);if(I.g.length>30){if(Z(I)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,V=b;V.l(I)<=0;)w=Ie(w),V=Ie(V);var O=Ce(w,1),P=Ce(V,1);for(V=Ce(V,2),w=Ce(w,2);!$(V);){var R=P.add(V);R.l(I)<=0&&(O=O.add(w),P=R),V=Ce(V,1),w=Ce(w,1)}return b=ee(I,O.j(b)),new se(O,b)}for(O=A;I.l(b)>=0;){for(w=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(w),R=P.j(b);Z(R)||R.l(I)>0;)w-=V,P=y(w),R=P.j(b);$(P)&&(P=D),O=O.add(P),I=ee(I,R)}return new se(O,I)}r.B=function(I){return Re(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)&I.i(V);return new f(w,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)|I.i(V);return new f(w,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)^I.i(V);return new f(w,this.h^I.h)};function Ie(I){const b=I.g.length+1,w=[];for(let V=0;V<b;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(w,I.h)}function Ce(I,b){const w=b>>5;b%=32;const V=I.g.length-w,O=[];for(let P=0;P<V;P++)O[P]=b>0?I.i(P+w)>>>b|I.i(P+w+1)<<32-b:I.i(P+w);return new f(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,$r=f}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mT,wl,pT,Gc,mm,gT,yT,_T;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,j){for(var ne=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ne[Se-2]=arguments[Se];return p.prototype[L].apply(S,ne)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function $(c,p){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const j=L.length||0;c.length=v+j;for(let ne=0;ne<j;ne++)c[v+ne]=L[ne]}else c.push(L)}}class Z{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function ee(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class te{constructor(){this.h=this.g=null}add(p,v){const S=se.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new Z(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Ce=!1,I=new te,b=()=>{const c=Promise.resolve(void 0);Ie=()=>{c.then(w)}};function w(){for(var c;c=ee();){try{c.h.call(c.g)}catch(v){H(v)}var p=se;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function rt(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(rt,O),rt.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(c,p,v,S,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=L,this.key=++G,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Ge(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,p){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,p,v,S,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const ne=be(c,p,S,L);return ne>-1?(p=c[ne],v||(p.fa=!1)):(p=new ie(p,this.src,j,!!S,L),p.fa=v,c.push(p)),p};function _e(c,p){const v=p.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,p,void 0),j;(j=L>=0)&&Array.prototype.splice.call(S,L,1),j&&(de(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,p,v,S){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==S)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,p,v,S,L){if(Array.isArray(p)){for(let j=0;j<p.length;j++)st(c,p[j],v,S,L);return null}return v=_o(v),c&&c[It]?c.J(p,v,m(S)?!!S.capture:!1,L):os(c,p,v,!1,S,L)}function os(c,p,v,S,L,j){if(!p)throw Error("Invalid event type");const ne=m(L)?!!L.capture:!!L;let Se=ls(c);if(Se||(c[Ue]=Se=new oe(c)),v=Se.add(p,v,S,ne,j),v.proxy)return v;if(S=Ws(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(L=ne),L===void 0&&(L=!1),c.addEventListener(p.toString(),S,L);else if(c.attachEvent)c.attachEvent(Zn(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ws(){function c(v){return p.call(c.src,c.listener,v)}const p=go;return c}function ea(c,p,v,S,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)ea(c,p[j],v,S,L);else S=m(S)?!!S.capture:!!S,v=_o(v),c&&c[It]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],v=be(p,v,S,L),v>-1&&(de(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=ls(c))&&(p=c.g[p.toString()],c=-1,p&&(c=be(p,v,S,L)),(v=c>-1?p[c]:null)&&ta(v))}function ta(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[It])_e(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Zn(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=ls(p))?(_e(v,c),v.h==0&&(v.src=null,p[Ue]=null)):de(c)}}}function Zn(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function go(c,p){if(c.da)c=!0;else{p=new rt(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&ta(c),c=v.call(S,p)}return c}function ls(c){return c=c[Ue],c instanceof oe?c:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(p){return c.handleEvent(p)}),c[yo])}function yt(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(yt,V),yt.prototype[It]=!0,yt.prototype.removeEventListener=function(c,p,v,S){ea(this,c,p,v,S)};function Ot(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var L=p;p=new O(S,c),re(p,L)}L=!0;let j,ne;if(v)for(ne=v.length-1;ne>=0;ne--)j=p.g=v[ne],L=lr(j,S,!0,p)&&L;if(j=p.g=c,L=lr(j,S,!0,p)&&L,L=lr(j,S,!1,p)&&L,v)for(ne=0;ne<v.length;ne++)j=p.g=v[ne],L=lr(j,S,!1,p)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)de(v[S]);delete c.g[p],c.h--}}this.G=null},yt.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},yt.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function lr(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let j=0;j<p.length;++j){const ne=p[j];if(ne&&!ne.da&&ne.capture==v){const Se=ne.listener,dt=ne.ha||ne.src;ne.fa&&_e(c.i,ne),L=Se.call(dt,S)!==!1&&L}}return L&&!S.defaultPrevented}function qh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function au(c){c.g=qh(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Wt extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){V.call(this),this.h=c,this.g={}}A(us,V);var vo=[];function Eo(c){ze(c.g,function(p,v){this.g.hasOwnProperty(v)&&ta(p)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),Eo(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,Hh=f.JSON.parse,ou=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function lu(){}function uu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}A(zt,O);function En(){O.call(this,"c")}A(En,O);var ft={},cu=null;function na(){return cu=cu||new yt}ft.Ia="serverreachability";function hu(c){O.call(this,ft.Ia,c)}A(hu,O);function Wn(c){const p=na();Ot(p,new hu(p))}ft.STAT_EVENT="statevent";function cs(c,p){O.call(this,ft.STAT_EVENT,c),this.stat=p}A(cs,O);function _t(c){const p=na();Ot(p,new cs(p,c))}ft.Ja="timingevent";function ei(c,p){O.call(this,ft.Ja,c),this.size=p}A(ei,O);function ti(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Fh(c,p,v,S,L,j){c.info(function(){if(c.g)if(j){var ne="",Se=j.split("&");for(let qe=0;qe<Se.length;qe++){var dt=Se[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const bn=at.split("_");ne=bn.length>=2&&bn[1]=="type"?ne+(at+"="+dt+"&"):ne+(at+"=redacted&")}}}else ne=null;else ne=j;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+p+`
`+v+`
`+ne})}function fu(c,p,v,S,L,j,ne){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+p+`
`+v+`
`+j+" "+ne})}function ni(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Gh(c,v)+(S?" "+S:"")})}function hs(c,p){c.info(function(){return"TIMEOUT: "+p})}kn.prototype.info=function(){};function Gh(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return ur(j)}catch{return p}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function ds(){}A(ds,lu),ds.prototype.g=function(){return new XMLHttpRequest},So=new ds;function Mi(c){return encodeURIComponent(String(c))}function du(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function zn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var vt={},Pt={};function ii(c,p,v){c.M=1,c.A=ms(Tt(p)),c.u=v,c.R=!0,ia(c,null)}function ia(c,p){c.F=Date.now(),ri(c),c.B=Tt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),oa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Bn,c.g=Iu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Wt(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(let j=0;j<L.length;j++){const ne=st(v,L[j],S||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Wn(),Fh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Hn(c)==3?p.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Hn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||dt==7||(dt==8||qe<=0?Wn(3):Wn(2)),si(this);var p=this.g.ca();this.X=p;var v=Kh(this);if(this.o=p==200,fu(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var j=S;break t}}j=null}if(c=j)ni(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,c);else{this.o=!1,this.m=3,_t(12),hn(this),Tn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=pu(this,v),at==Pt){Se==4&&(this.m=4,_t(14),c=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),ni(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ni(this.i,this.l,at,null),ai(this,at);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ni(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(ne),ne.P=!0,_t(11))}}else ni(this.i,this.l,v,null),ai(this,v);Se==4&&hn(this),this.o&&!this.K&&(Se==4?bu(this.j,this):(this.o=!1,ri(this)))}else xi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),hn(this),Tn(this)}}}catch{}finally{}};function Kh(c){if(!mu(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let v="";const S=p.length,L=Hn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Tn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<S;j++)c.h.h=!0,v+=c.h.i.decode(p[j],{stream:!(L&&j==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function pu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Pt:(v=Number(p.substring(v,S)),isNaN(v)?vt:(S+=1,S+v>p.length?Pt:(p=p.slice(S,S+v),c.C=S+v,p)))}zn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(c){c.T=Date.now()+c.H,ra(c,c.H)}function ra(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ti(y(c.aa,c),p)}function si(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hs(this.i,this.B),this.M!=2&&(Wn(),_t(17)),hn(this),this.m=2,Tn(this)):ra(this,this.T-c)};function Tn(c){c.j.I==0||c.K||bu(c.j,c)}function hn(c){si(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Eo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ai(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||li(v.h,c))){if(!c.L&&li(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)fa(v),yr(v);else break e;Ts(v),_t(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(y(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((c.L||v.g==c)&&fa(v),!R(p))for(L=v.Ba.g.parse(p),p=0;p<L.length;p++){let qe=L[p];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const bn=qe[3];bn!=null&&(v.ka=bn,v.j.info("VER="+v.ka));const pi=qe[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=qe[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(S=1.5*Fn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Gn=c.g;if(Gn){const Ss=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var j=S.h;j.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wo(j,j.h),j.h=null))}if(S.G){const da=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(S.wa=da,Ke(S.J,S.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=c;if(S.na=Cu(S,S.L?S.ba:null,S.W),ne.L){Ro(S.h,ne);var Se=ne,dt=S.O;dt&&(Se.H=dt),Se.D&&(si(Se),ri(Se)),S.g=ne}else Su(S);v.i.length>0&&di(v)}else qe[0]!="stop"&&qe[0]!="close"||mi(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?mi(v,7):Po(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}Wn(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function Ao(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oi(c){return c.h?1:c.g?c.g.size:0}function li(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function wo(c,p){c.g?c.g.add(p):c.h=p}function Ro(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ao.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return z(c.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,j=null;S>=0?(L=c[v].substring(0,S),j=c[v].substring(S+1)):L=c[v],p(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof fn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Io(this,Eu(c.i)),this.m=c.m):c&&(p=String(c).match(gu))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=ui(p[2]||""),this.g=ui(p[3]||"",!0),cr(this,p[4]),this.h=ui(p[5]||"",!0),Io(this,p[6]||"",!0),this.m=ui(p[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}fn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ps(p,aa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ps(p,aa,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ps(v,v.charAt(0)=="/"?Do:yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ps(v,_u)),c.join("")},fn.prototype.resolve=function(c){const p=Tt(this);let v=!!c.j;v?Lt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)cr(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=p.h.lastIndexOf("/");L!=-1&&(S=p.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let ne=0;ne<L.length;){const Se=L[ne++];Se=="."?S&&ne==L.length&&j.push(""):Se==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&ne==L.length&&j.push("")):(j.push(Se),S=!0)}S=j.join("/")}else S=L}return v?p.h=S:v=c.i.toString()!=="",v?Io(p,Eu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Tt(c){return new fn(c)}function Lt(c,p,v){c.j=v?ui(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Io(c,p,v){p instanceof fr?(c.i=p,la(c.i,c.l)):(v||(p=ps(p,hr)),c.i=new fr(p,c.l))}function Ke(c,p,v){c.i.set(p,v)}function ms(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ui(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var aa=/[#\/\?@]/g,yu=/[#\?:]/g,Do=/[#\?]/g,hr=/[#\?@]/g,_u=/#/g;function fr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&sa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,p){rn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function vu(c,p){rn(c),p=dr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Oo(c,p){return rn(c),p=dr(c,p),c.g.has(p)}r.forEach=function(c,p){rn(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(p,L,S,this)},this)},this)};function No(c,p){rn(c);let v=[];if(typeof p=="string")Oo(c,p)&&(v=v.concat(c.g.get(dr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return rn(this),this.i=null,c=dr(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=No(this,c),c.length>0?String(c[0]):p):p};function oa(c,p,v){vu(c,p),v.length>0&&(c.i=null,c.g.set(dr(c,p),z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const L=Mi(v);v=No(this,v);for(let j=0;j<v.length;j++){let ne=L;v[j]!==""&&(ne+="="+Mi(v[j])),c.push(ne)}}return this.i=c.join("&")};function Eu(c){const p=new fr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function dr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function la(c,p){p&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(vu(this,S),oa(this,L,v))},c)),c.j=p}function jn(c,p){const v=new kn;if(f.Image){const S=new Image;S.onload=E(Sn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Sn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(Sn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Sn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Mo(c,p){const v=new kn,S=new AbortController,L=setTimeout(()=>{S.abort(),Sn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(j=>{clearTimeout(L),j.ok?Sn(v,"TestPingServer: ok",!0,p):Sn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Sn(v,"TestPingServer: error",!1,p)})}function Sn(c,p,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function mr(){this.g=new ou}function ci(c){this.i=c.Sb||null,this.h=c.ab||!1}A(ci,lu),ci.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,p){yt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gs,yt),r=gs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pr(this):qn(this),this.readyState==3&&ua(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,qn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let p="";return ze(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function ys(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=An(v),typeof c=="string"?v!=null&&Mi(v):Ke(c,p,v))}function Xe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,yt);var hi=/^https?$/i,Vo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){_s(this,j);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())v.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vo,p,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ne]of v)this.g.setRequestHeader(j,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){_s(this,j)}};function _s(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,xo(c),Vi(c)}function xo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},r.Xa=function(){vs(this)};function vs(c){if(c.h&&typeof u<"u"){if(c.v&&Hn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=j===0){let ne=String(c.D).match(gu)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),S=!hi.test(ne?ne.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var L=Hn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",xo(c)}}finally{Vi(c)}}}}function Vi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Hh(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(c){const p={};c=(c.g&&Hn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var v=du(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[L]||[];p[L]=j,j.push(v)}Ge(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function gr(c){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,c),this.Za=fi("retryDelaySeedMs",1e4,c),this.Ta=fi("forwardChannelMaxRetries",2,c),this.va=fi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,S){_t(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Cu(this,null,this.W),di(this)};function Po(c){if(ca(c),c.I==3){var p=c.V++,v=Tt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),Es(c,v),p=new zn(c,c.j,p),p.M=2,p.A=ms(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Iu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ri(p)}Ru(c)}function yr(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function ca(c){yr(c),c.v&&(f.clearTimeout(c.v),c.v=null),fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function di(c){if(!bo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ie||b(),Ce||(Ie(),Ce=!0),I.add(p,c),c.D=0}}function ha(c,p){return oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ti(y(c.Ea,c,p),wu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new zn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),re(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Tu(this,L,p),v=Tt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Es(this,v),j&&(this.R?p="headers="+Mi(An(j))+"&"+p:this.u&&ys(v,this.u,j)),wo(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),L.U=!0,ii(L,v,null)):ii(L,v,p),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||bo(this.h)||Lo(this))};function Lo(c,p){var v;p?v=p.l:v=c.V++;const S=Tt(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),Es(c,S),c.u&&c.o&&ys(S,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Tu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wo(c.h,v),ii(v,S,p)}function Es(c,p){c.H&&ze(c.H,function(v,S){Ke(p,S,v)}),c.l&&ze({},function(v,S){Ke(p,S,v)})}function Tu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Se=-1;for(;;){const dt=["count="+v];Se==-1?v>0?(Se=L[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let qe=!0;for(let at=0;at<v;at++){var j=L[at].g;const bn=L[at].map;if(j-=Se,j<0)Se=Math.max(0,L[at].g-100),qe=!1;else try{j="req"+j+"_"||"";try{var ne=bn instanceof Map?bn:Object.entries(bn);for(const[pi,Fn]of ne){let Gn=Fn;m(Fn)&&(Gn=ur(Fn)),dt.push(j+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw dt.push(j+"type="+encodeURIComponent("_badmap")),pi}}catch{S&&S(bn)}}if(qe){ne=dt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),p.G=c,ne}function Su(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ie||b(),Ce||(Ie(),Ce=!0),I.add(p,c),c.A=0}}function Ts(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ti(y(c.Da,c),wu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ti(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),yr(this),Au(this))};function Uo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Au(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Tt(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),Es(c,p),c.u&&c.o&&ys(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ms(Tt(p)),v.u=null,v.R=!0,ia(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Ts(this),_t(19))};function fa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function bu(c,p){var v=null;if(c.g==p){fa(c),Uo(c),c.g=null;var S=2}else if(li(c.h,p))v=p.G,Ro(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;S=na(),Ot(S,new ei(S,v)),di(c)}else Su(c);else if(L=p.m,L==3||L==0&&p.X>0||!(S==1&&ha(c,p)||S==2&&Ts(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),L){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function wu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function mi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const L=!S;S=new fn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),ms(S),L?jn(S.toString(),v):Mo(S.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(p),Ru(c),ca(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ru(c){if(c.I=0,c.ja=[],c.l){const p=Co(c.h);(p.length!=0||c.i.length!=0)&&($(c.ja,p),$(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Cu(c,p,v){var S=v instanceof fn?Tt(v):new fn(v);if(S.g!="")p&&(S.g=p+"."+S.g),cr(S,S.u);else{var L=f.location;S=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const j=new fn(null);S&&Lt(j,S),p&&(j.g=p),L&&cr(j,L),v&&(j.h=v),S=j}return v=c.G,p=c.wa,v&&p&&Ke(S,v,p),Ke(S,"VER",c.ka),Es(c,S),S}function Iu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new ci({ab:v})):new Xe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,p){return new en(c,p)};function en(c,p){yt.call(this),this.g=new gr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Pi(this)}A(en,yt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Po(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);p.i.push(new Et(p.Ya++,c)),p.I==3&&di(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,en.Z.N.call(this)};function Ou(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Ou,zt);function Nu(){En.call(this),this.status=1}A(Nu,En);function Pi(c){this.g=c}A(Pi,Du),Pi.prototype.ra=function(){Ot(this.g,"a")},Pi.prototype.qa=function(c){Ot(this.g,new Ou(c))},Pi.prototype.pa=function(c){Ot(this.g,new Nu)},Pi.prototype.oa=function(){Ot(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_T=function(){return new _r},yT=function(){return na()},gT=ft,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Gc=fs,To.COMPLETE="complete",pT=To,uu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",yt.prototype.listen=yt.prototype.J,wl=uu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,mT=Xe}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Sv="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let co="12.3.0";const Hs=new jm("@firebase/firestore");function Ha(){return Hs.logLevel}function ae(r,...e){if(Hs.logLevel<=Ve.DEBUG){const n=e.map(Fm);Hs.debug(`Firestore (${co}): ${r}`,...n)}}function ir(r,...e){if(Hs.logLevel<=Ve.ERROR){const n=e.map(Fm);Hs.error(`Firestore (${co}): ${r}`,...n)}}function Wa(r,...e){if(Hs.logLevel<=Ve.WARN){const n=e.map(Fm);Hs.warn(`Firestore (${co}): ${r}`,...n)}}function Fm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vT(r,s,n)}function vT(r,e,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||vT(e,o,s)}function Te(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class AR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new ET(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class wR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Av(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=IR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return em(o)===em(u)?xe(o,u):em(o)?1:-1}return xe(r.length,e.length)}const DR=55296,OR=57343;function em(r){const e=r.charCodeAt(0);return e>=DR&&e<=OR}function eo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const bv="__name__";class Ei{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Ei.isNumericId(e),o=Ei.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class it extends Ei{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ei{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new Kt([bv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(it.fromString(e))}static fromName(e){return new me(it.fromString(e).popFirst(5))}static empty(){return new me(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new it(e.slice()))}}function TT(r,e,n){if(!n)throw new he(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MR(r,e,n,s){if(e===!0&&s===!0)throw new he(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wv(r){if(!me.isDocumentKey(r))throw new he(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rv(r){if(me.isDocumentKey(r))throw new he(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ST(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function to(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Km(r);throw new he(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function Jl(r,e){if(!ST(r))throw new he(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(W.INVALID_ARGUMENT,n);return!0}const Cv=-62135596800,Iv=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Iv);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cv)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Ct("string",We._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new We(0,0))}static max(){return new ve(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function VR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new Wr(o,me.empty(),e)}function xR(r){return new Wr(r.readTime,r.key,kl)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(ve.min(),me.empty(),kl)}static max(){return new Wr(ve.max(),me.empty(),kl)}}function PR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}const LR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ho(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==LR)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new J(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function kR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(r){return r.name==="IndexedDbTransactionError"}class wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const Qm=-1;function Rh(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function zR(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const AT="";function BR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Dv(e)),e=jR(r.get(n),e);return Dv(e)}function jR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case AT:n+="";break;default:n+=u}}return n}function Dv(r){return r+AT+""}function Ov(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(e){return new Nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new xt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wT("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=qR.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}const RT="server_timestamp",CT="__type__",IT="__previous_value__",DT="__local_write_time__";function Ym(r){return(r?.mapValue?.fields||{})[CT]?.stringValue===RT}function Ch(r){const e=r.mapValue.fields[IT];return Ym(e)?Ch(e):e}function zl(r){const e=es(r.mapValue.fields[DT].timestampValue);return new We(e.seconds,e.nanos)}class HR{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const sh="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const OT="__type__",FR="__max__",kc={mapValue:{}},NT="__vector__",ah="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ym(r)?4:KR(r)?9007199254740991:GR(r)?10:11:ye(28295,{value:r})}function Di(r,e){if(r===e)return!0;const n=ns(r);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?rh(f)===rh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return eo(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ov(f)!==Ov(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Di(f[g],m[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function jl(r,e){return(r.values||[]).find((n=>Di(n,e)))!==void 0}function no(r,e){if(r===e)return 0;const n=ns(r),s=ns(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Mv(r.timestampValue,e.timestampValue);case 4:return Mv(zl(r),zl(e));case 5:return pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ts(u),g=ts(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xe(m[y],g[y]);if(E!==0)return E}return xe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=xe(gt(u.latitude),gt(f.latitude));return m!==0?m:xe(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Vv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[ah]?.arrayValue,E=g[ah]?.arrayValue,A=xe(y?.values?.length||0,E?.values?.length||0);return A!==0?A:Vv(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const D=pm(g[A],E[A]);if(D!==0)return D;const z=no(m[g[A]],y[E[A]]);if(z!==0)return z}return xe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function Mv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=es(r),s=es(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function Vv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function io(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gm(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function Kc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Kc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ys(s.fields,((u,f)=>{o+=u.length+Kc(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function ym(r){return!!r&&"integerValue"in r}function Xm(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function GR(r){return(r?.mapValue?.fields||{})[OT]?.stringValue===NT}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ys(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ol(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return e}return{...r}}function KR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ol(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new xn(Ol(this.value))}}function MT(r){const e=[];return Ys(r.fields,((n,s)=>{const o=new Kt([n]);if(Qc(s)){const u=MT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Xn(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,ve.min(),ve.min(),ve.min(),xn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,ve.min(),ve.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ve.min(),ve.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,n){this.position=e,this.inclusive=n}}function Lv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Uv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],e.position[n]))return!1;return!0}class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class VT{}class Mt extends VT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XR(e,n,s):n==="array-contains"?new ZR(e,s):n==="in"?new WR(e,s):n==="not-in"?new eC(e,s):n==="array-contains-any"?new tC(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $R(e,s):new JR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends VT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return xT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xT(r){return r.op==="and"}function PT(r){return YR(r)&&xT(r)}function YR(r){for(const e of r.filters)if(e instanceof Oi)return!1;return!0}function _m(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(PT(r))return r.filters.map((e=>_m(e))).join(",");{const e=r.filters.map((n=>_m(n))).join(",");return`${r.op}(${e})`}}function LT(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(r,e):r instanceof Oi?(function(s,o){return o instanceof Oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&LT(f,o.filters[m])),!0):!1})(r,e):void ye(19439)}function UT(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`})(r):r instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(UT).join(" ,")+"}"})(r):"Filter"}class XR extends Mt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class $R extends Mt{constructor(e,n){super(e,"in",n),this.keys=kT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JR extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=kT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kT(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class ZR extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&jl(n.arrayValue,this.value)}}class WR extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class eC extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class tC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>jl(this.value.arrayValue,s)))}}class nC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function kv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new nC(r,e,n,s,o,u,f)}function $m(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>_m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>io(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>io(s))).join(",")),e.Te=n}return e.Te}function Jm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!LT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Uv(r.startAt,e.startAt)&&Uv(r.endAt,e.endAt)}function vm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ih{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iC(r,e,n,s,o,u,f,m){return new Ih(r,e,n,s,o,u,f,m)}function Zm(r){return new Ih(r)}function zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rC(r){return r.collectionGroup!==null}function Nl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Kt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new lh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new lh(Kt.keyField(),s))}return e.Ie}function Ti(r){const e=Te(r);return e.Ee||(e.Ee=sC(e,Nl(r))),e.Ee}function sC(r,e){if(r.limitType==="F")return kv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Em(r,e,n){return new Ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Dh(r,e){return Jm(Ti(r),Ti(e))&&r.limitType===e.limitType}function zT(r){return`${$m(Ti(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>UT(o))).join(", ")}]`),Rh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>io(o))).join(",")),`Target(${s})`})(Ti(r))}; limitType=${r.limitType})`}function Oh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Lv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Nl(s),o)||s.endAt&&!(function(f,m,g){const y=Lv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Nl(s),o))})(r,e)}function aC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,n)=>{let s=!1;for(const o of Nl(r)){const u=oC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oC(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?no(g,y):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}const lC=new ut(me.comparator);function rr(){return lC}const jT=new ut(me.comparator);function Rl(...r){let e=jT;for(const n of r)e=e.insert(n.key,n);return e}function qT(r){let e=jT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function zs(){return Ml()}function HT(){return Ml()}function Ml(){return new Xs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const uC=new ut(me.comparator),cC=new xt(me.comparator);function Pe(...r){let e=cC;for(const n of r)e=e.add(n);return e}const hC=new xt(xe);function fC(){return hC}function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function FT(r){return{integerValue:""+r}}function dC(r,e){return zR(e)?FT(e):Wm(r,e)}class Nh{constructor(){this._=void 0}}function mC(r,e,n){return r instanceof uh?(function(o,u){const f={fields:{[CT]:{stringValue:RT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ym(u)&&(u=Ch(u)),u&&(f.fields[IT]=u),{mapValue:f}})(n,e):r instanceof ql?KT(r,e):r instanceof Hl?QT(r,e):(function(o,u){const f=GT(o,u),m=Bv(f)+Bv(o.Ae);return ym(f)&&ym(o.Ae)?FT(m):Wm(o.serializer,m)})(r,e)}function pC(r,e,n){return r instanceof ql?KT(r,e):r instanceof Hl?QT(r,e):n}function GT(r,e){return r instanceof ch?(function(s){return ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class uh extends Nh{}class ql extends Nh{constructor(e){super(),this.elements=e}}function KT(r,e){const n=YT(e);for(const s of r.elements)n.some((o=>Di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Hl extends Nh{constructor(e){super(),this.elements=e}}function QT(r,e){let n=YT(e);for(const s of r.elements)n=n.filter((o=>!Di(o,s)));return{arrayValue:{values:n}}}class ch extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Bv(r){return gt(r.integerValue||r.doubleValue)}function YT(r){return Xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ql&&o instanceof ql||s instanceof Hl&&o instanceof Hl?eo(s.elements,o.elements,Di):s instanceof ch&&o instanceof ch?Di(s.Ae,o.Ae):s instanceof uh&&o instanceof uh})(r.transform,e.transform)}class yC{constructor(e,n){this.version=e,this.transformResults=n}}class Si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function XT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new JT(r.key,Si.none()):new Zl(r.key,r.data,Si.none());{const n=r.data,s=xn.empty();let o=new xt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $s(r.key,s,new Xn(o.toArray()),Si.none())}}function _C(r,e,n){r instanceof Zl?(function(o,u,f){const m=o.value.clone(),g=qv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof $s?(function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=qv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll($T(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Vl(r,e,n,s){return r instanceof Zl?(function(u,f,m,g){if(!Yc(u.precondition,f))return m;const y=u.value.clone(),E=Hv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof $s?(function(u,f,m,g){if(!Yc(u.precondition,f))return m;const y=Hv(u.fieldTransforms,g,f),E=f.data;return E.setAll($T(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function vC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=GT(s.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(s.field,u))}return n||null}function jv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,((u,f)=>gC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zl extends Mh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends Mh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $T(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function qv(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,pC(f,m,n[o]))}return s}function Hv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,mC(u,f,e))}return s}class JT extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EC extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_C(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=HT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=XT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,((n,s)=>jv(n,s)))&&eo(this.baseMutations,e.baseMutations,((n,s)=>jv(n,s)))}}class ep{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return uC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ep(e,n,s,o)}}class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,ke;function bC(r){switch(r){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function ZT(r){if(r===void 0)return ir("GRPC error has no .code"),W.UNKNOWN;switch(r){case Rt.OK:return W.OK;case Rt.CANCELLED:return W.CANCELLED;case Rt.UNKNOWN:return W.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return W.INTERNAL;case Rt.UNAVAILABLE:return W.UNAVAILABLE;case Rt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rt.NOT_FOUND:return W.NOT_FOUND;case Rt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rt.ABORTED:return W.ABORTED;case Rt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rt.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:r})}}(ke=Rt||(Rt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function wC(){return new TextEncoder}const RC=new $r([4294967295,4294967295],0);function Fv(r){const e=wC().encode(r),n=new dT;return n.update(e),new Uint8Array(n.digest())}function Gv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class tp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply($r.fromNumber(s)));return o.compare(RC)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Fv(e),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new tp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Fv(e),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vh(ve.min(),o,new ut(xe),rr(),Pe())}}class Wl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Wl(s,n,Pe(),Pe(),Pe())}}class Xc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class WT{constructor(e,n){this.targetId=e,this.Ce=n}}class e0{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Kv{constructor(){this.ve=0,this.Fe=Qv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Wl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Qv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CC{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.Je=zc(),this.He=zc(),this.Ye=new ut(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vm(u))if(s===0){const f=new me(u.path);this.et(n,f,Jt.newNoDocument(f,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ts(s).toUint8Array()}catch(g){if(g instanceof wT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tp(f,o,u)}catch(g){return Wa(g instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&vm(m.target)){const g=new me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Jt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Vh(e,n,this.Ye,this.je,s);return this.je=rr(),this.Je=zc(),this.He=zc(),this.Ye=new ut(xe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Kv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zc(){return new ut(me.comparator)}function Qv(){return new ut(me.comparator)}const IC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OC={and:"AND",or:"OR"};class NC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tm(r,e){return r.useProto3Json||Rh(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function MC(r,e){return hh(r,e.toTimestamp())}function Ai(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=es(n);return new We(s.seconds,s.nanos)})(r))}function np(r,e){return Sm(r,e).canonicalString()}function Sm(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function n0(r){const e=it.fromString(r);return Fe(o0(e),10190,{key:e.toString()}),e}function Am(r,e){return np(r.databaseId,e.path)}function tm(r,e){const n=n0(e);if(n.get(1)!==r.databaseId.projectId)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(r0(n))}function i0(r,e){return np(r.databaseId,e)}function VC(r){const e=n0(r);return e.length===4?it.emptyPath():r0(e)}function bm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function r0(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Yv(r,e,n){return{name:Am(r,e),fields:n.value.mapValue.fields}}function xC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:ZT(y.code);return new he(E,y.message||"")})(f);n=new e0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tm(r,s.document.name),u=Ai(s.document.updateTime),f=s.document.createTime?Ai(s.document.createTime):ve.min(),m=new xn({mapValue:{fields:s.document.fields}}),g=Jt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Xc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tm(r,s.document),u=s.readTime?Ai(s.readTime):ve.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Xc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tm(r,s.document),u=s.removedTargetIds||[];n=new Xc([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AC(o,u),m=s.targetId;n=new WT(m,f)}}return n}function PC(r,e){let n;if(e instanceof Zl)n={update:Yv(r,e.key,e.value)};else if(e instanceof JT)n={delete:Am(r,e.key)};else if(e instanceof $s)n={update:Yv(r,e.key,e.data),updateMask:FC(e.fieldMask)};else{if(!(e instanceof EC))return ye(16599,{Vt:e.type});n={verify:Am(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ch)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:MC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function LC(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ai(o.updateTime):Ai(u);return f.isEqual(ve.min())&&(f=Ai(u)),new yC(f,o.transformResults||[])})(n,e)))):[]}function UC(r,e){return{documents:[i0(r,e.path)]}}function kC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=i0(r,o);const u=(function(y){if(y.length!==0)return a0(Oi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(D){return{field:Ga(D.field),direction:jC(D.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Tm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function zC(r){let e=VC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const D=s0(A);return D instanceof Oi&&PT(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((D=>(function($){return new lh(Ka($.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let D;return D=typeof A=="object"?A.value:A,Rh(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(A){const D=!!A.before,z=A.values||[];return new oh(z,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const D=!A.before,z=A.values||[];return new oh(z,D)})(n.endAt)),iC(e,o,f,u,m,"F",g,y)}function BC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(Ka(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>s0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function jC(r){return IC[r]}function qC(r){return DC[r]}function HC(r){return OC[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Kt.fromServerFormat(r.fieldPath)}function a0(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(Pv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:qC(n.op),value:n.value}}})(r):r instanceof Oi?(function(n){const s=n.getFilters().map((o=>a0(o)));return s.length===1?s[0]:{compositeFilter:{op:HC(n.op),filters:s}}})(r):ye(54877,{filter:r})}function FC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function o0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Kr{constructor(e,n,s,o,u=ve.min(),f=ve.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GC{constructor(e){this.yt=e}}function KC(r){const e=zC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(e,e.limit,"L"):e}class QC{constructor(){this.Cn=new YC}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Wr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class YC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(it.comparator)).toArray()}}const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(l0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}const $v="LruGarbageCollector",XC=1048576;function Jv([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class $C{constructor(e){this.Ir=e,this.buffer=new xt(Jv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae($v,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?ae($v,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Vr(3e5)}))}}class ZC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(wh.ce);const s=new $C(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Xv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Ha()<=Ve.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function WC(r,e){return new ZC(r,e)}class eI{constructor(){this.changes=new Xs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Vl(s.mutation,o,Xn.empty(),We.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Rl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=rr();const f=Ml(),m=(function(){return Ml()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof $s)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Vl(E.mutation,y,E.mutation.getFieldMask(),We.now())):f.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new tI(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ml();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Xn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=HT();E.forEach((D=>{if(!u.has(D)){const z=XT(n.get(D),s.get(D));z!==null&&A.set(D,z),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(zs());let m=kl,g=u;return f.next((y=>J.forEach(y,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Pe()))).next((E=>({batchId:m,changes:qT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(g=>{const y=(function(A,D){return new Ih(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((A,D)=>{f=f.insert(A,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Rl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Vl(E.mutation,y,Xn.empty(),We.now()),Oh(n,y)&&(m=m.insert(g,y))})),m}))}}class iI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:KC(o.bundledQuery),readTime:Ai(o.readTime)}})(n)),J.resolve()}}class rI{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return J.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class sI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class ip{constructor(){this.Qr=new xt(kt.$r),this.Ur=new xt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new it([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new it([])),s=new kt(n,e),o=new kt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class aI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(kt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(xe);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let m=new xt(xe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class oI{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||PR(xR(E),s)<=0||(o.has(E.key)||Oh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new lI(this)}getSize(e){return J.resolve(this.size)}}class lI extends eI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class uI{constructor(e){this.persistence=e,this.si=new Xs((n=>$m(n)),Jm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=ro.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}class u0{constructor(e,n){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new sI,this.referenceDelegate=e(this),this.Pi=new uI(this),this.indexManager=new QC,this.remoteDocumentCache=(function(o){return new oI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new GC(n),this.Ii=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new aI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const o=new cI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class cI extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new ip,this.Vi=null}static mi(e){return new rp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fh{constructor(e,n){this.persistence=e,this.pi=new Xs((s=>BR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=WC(this,n)}static mi(e,n){return new fh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kc(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sp(e,n.fromCache,s,o)}}class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nw()?8:kR(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new hI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ha()<=Ve.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ha()<=Ve.DEBUG&&ae("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ha()<=Ve.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):J.resolve())}ys(e,n){if(zv(n))return J.resolve(null);let s=Ti(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),s=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,Em(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return zv(n)||o.isEqual(ve.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Ha()<=Ve.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.vs(e,f,n,VR(o,kl)).next((m=>m)))}))}Ds(e,n){let s=new xt(BT(e));return n.forEach(((o,u)=>{Oh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ha()<=Ve.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ps.getDocumentsMatchingQuery(e,n,Wr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const ap="LocalStore",dI=3e8;class mI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(xe),this.xs=new Xs((u=>$m(u)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function pI(r,e,n,s){return new mI(r,e,n,s)}async function c0(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function gI(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const A=y.batch,D=A.keys();let z=J.resolve();return D.forEach(($=>{z=z.next((()=>E.getEntry(g,$))).next((Z=>{const H=y.docVersions.get($);Fe(H!==null,48541),Z.version.compareTo(H)<0&&(A.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function h0(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yI(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,A)=>{const D=o.get(A);if(!D)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let z=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Qt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),o=o.insert(A,z),(function(Z,H,ee){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=dI?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(D,z,E)&&m.push(n.Pi.updateTargetData(u,z))}));let g=rr(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(_I(u,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(ve.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function _I(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=rr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae(ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function vI(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function EI(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function wm(r,e,n){const s=Te(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!fo(f))throw f;ae(ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Zv(r,e,n){const s=Te(r);let o=ve.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const A=Te(g),D=A.xs.get(E);return D!==void 0?J.resolve(A.Ms.get(D)):A.Pi.getTargetData(y,E)})(s,f,Ti(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?u:Pe()))).next((m=>(TI(s,aC(e),m),{documents:m,Qs:u})))))}function TI(r,e,n){let s=r.Os.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Wv{constructor(){this.activeTargetIds=fC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SI{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AI{Oo(e){}shutdown(){}}const eE="ConnectivityMonitor";class tE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(eE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Rm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const nm="RestConnection",bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Rm(),m=this.zo(e,n.toUriEncodedString());ae(nm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=lo(y);return this.Jo(e,m,g,s,E).then((A=>(ae(nm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Wa(nm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=bI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class RI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class CI extends wI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Rm();return new Promise(((m,g)=>{const y=new mT;y.setWithCredentials(!0),y.listenOnce(pT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const A=y.getResponseJson();ae(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Gc.TIMEOUT:ae(Xt,`RPC '${e}' ${f} timed out`),g(new he(W.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const D=y.getStatus();if(ae(Xt,`RPC '${e}' ${f} failed with status:`,D,"response text:",y.getResponseText()),D>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const $=z?.error;if($&&$.status&&$.message){const Z=(function(ee){const te=ee.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})($.status);g(new he(Z,$.message))}else g(new he(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ae(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_T(),m=yT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ae(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);this.I_(A);let D=!1,z=!1;const $=new RI({Yo:H=>{z?ae(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(D||(ae(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),D=!0),ae(Xt,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),Z=(H,ee,te)=>{H.listen(ee,(se=>{try{te(se)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return Z(A,wl.EventType.OPEN,(()=>{z||(ae(Xt,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),Z(A,wl.EventType.CLOSE,(()=>{z||(z=!0,ae(Xt,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(A))})),Z(A,wl.EventType.ERROR,(H=>{z||(z=!0,Wa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),$.a_(new he(W.UNAVAILABLE,"The operation could not be completed")))})),Z(A,wl.EventType.MESSAGE,(H=>{if(!z){const ee=H.data[0];Fe(!!ee,16349);const te=ee,se=te?.error||te[0]?.error;if(se){ae(Xt,`RPC '${e}' stream ${o} received error:`,se);const Re=se.status;let Ie=(function(b){const w=Rt[b];if(w!==void 0)return ZT(w)})(Re),Ce=se.message;Ie===void 0&&(Ie=W.INTERNAL,Ce="Unknown error status: "+Re+" with message "+se.message),z=!0,$.a_(new he(Ie,Ce)),A.close()}else ae(Xt,`RPC '${e}' stream ${o} received:`,ee),$.u_(ee)}})),Z(m,gT.STAT_EVENT,(H=>{H.stat===mm.PROXY?ae(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===mm.NOPROXY&&ae(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function im(){return typeof document<"u"?document:null}function xh(r){return new NC(r,!0)}class f0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nE="PersistentStream";class d0{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ae(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class II extends d0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Ai(f.readTime):ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=bm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=vm(g)?{documents:UC(u,g)}:{query:kC(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=t0(u,f.resumeToken);const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=hh(u,f.snapshotVersion.toTimestamp());const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=BC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.q_(n)}}class DI extends d0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LC(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>PC(this.serializer,s)))};this.q_(n)}}class OI{}class NI extends OI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Sm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Sm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fs="RemoteStore";class VI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Js(this)&&(ae(Fs,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Ra=new MI(s,o)}}async function Ph(r){if(Js(r))for(const e of r.da)await e(!0)}async function eu(r){for(const e of r.da)await e(!1)}function m0(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cp(n)?up(n):mo(n).O_()&&lp(n,e))}function op(r,e){const n=Te(r),s=mo(n);n.Ia.delete(e),s.O_()&&p0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Js(n)&&n.Ra.set("Unknown"))}function lp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(r).Y_(e)}function p0(r,e){r.Va.Ue(e),mo(r).Z_(e)}function up(r){r.Va=new CC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function cp(r){return Js(r)&&!mo(r).x_()&&r.Ia.size>0}function Js(r){return Te(r).Ea.size===0}function g0(r){r.Va=void 0}async function xI(r){r.Ra.set("Online")}async function PI(r){r.Ia.forEach(((e,n)=>{lp(r,e)}))}async function LI(r,e){g0(r),cp(r)?(r.Ra.ha(e),up(r)):r.Ra.set("Unknown")}async function UI(r,e,n){if(r.Ra.set("Online"),e instanceof e0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ae(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dh(r,s)}else if(e instanceof Xc?r.Va.Ze(e):e instanceof WT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ve.min()))try{const s=await h0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),p0(u,g);const A=new Kr(E.target,g,y,E.sequenceNumber);lp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ae(Fs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,e,n){if(!fo(e))throw e;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),n||(n=()=>h0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(Fs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ph(r)}))}function y0(r,e){return e().catch((n=>dh(r,n,e)))}async function Lh(r){const e=Te(r),n=is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;kI(e);)try{const o=await vI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,zI(e,o)}catch(o){await dh(e,o)}_0(e)&&v0(e)}function kI(r){return Js(r)&&r.Ta.length<10}function zI(r,e){r.Ta.push(e);const n=is(r);n.O_()&&n.X_&&n.ea(e.mutations)}function _0(r){return Js(r)&&!is(r).x_()&&r.Ta.length>0}function v0(r){is(r).start()}async function BI(r){is(r).ra()}async function jI(r){const e=is(r);for(const n of r.Ta)e.ea(n.mutations)}async function qI(r,e,n){const s=r.Ta.shift(),o=ep.from(s,e,n);await y0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Lh(r)}async function HI(r,e){e&&is(r).X_&&await(async function(s,o){if((function(f){return bC(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();is(s).B_(),await y0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lh(s)}})(r,e),_0(r)&&v0(r)}async function iE(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),ae(Fs,"RemoteStore received new credentials");const s=Js(n);n.Ea.add(3),await eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ph(n)}async function FI(r,e){const n=Te(r);e?(n.Ea.delete(2),await Ph(n)):e||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new II(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:xI.bind(null,r),t_:PI.bind(null,r),r_:LI.bind(null,r),H_:UI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),cp(r)?up(r):r.Ra.set("Unknown")):(await r.ma.stop(),g0(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new DI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BI.bind(null,r),r_:HI.bind(null,r),ta:jI.bind(null,r),na:qI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Lh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new hp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(r,e){if(ir("AsyncQueue",`${e}: ${r}`),fo(r))return new he(W.UNAVAILABLE,`${e}: ${r}`);throw r}class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class rE{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class so{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new so(e,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class GI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KI{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=sE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new he(W.ABORTED,"Firestore shutting down"))}}function sE(){return new Xs((r=>zT(r)),Dh)}async function QI(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new GI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=fp(f,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&dp(n)}async function YI(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XI(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&dp(n)}function $I(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function dp(r){r.Ca.forEach((e=>{e.next()}))}var Cm,aE;(aE=Cm||(Cm={})).Ma="default",aE.Cache="cache";class JI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class ZI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=BT(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new rE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const D=o.get(E),z=Oh(this.query,A)?A:null,$=!!D&&this.mutatedKeys.has(D.key),Z=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let H=!1;D&&z?D.data.isEqual(z.data)?$!==Z&&(s.track({type:3,doc:z}),H=!0):this.su(D,z)||(s.track({type:2,doc:z}),H=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(m=!0)):!D&&z?(s.track({type:0,doc:z}),H=!0):D&&!z&&(s.track({type:1,doc:D}),H=!0,(g||y)&&(m=!0)),H&&(z?(f=f.add(z),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,A)=>(function(z,$){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:H})}};return Z(z)-Z($)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new so(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new T0(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new E0(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class WI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class e2{constructor(e){this.key=e,this.hu=!1}}class t2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xs((m=>zT(m)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n2(r,e,n=!0){const s=C0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await S0(s,e,n,!0),o}async function i2(r,e){const n=C0(r);await S0(n,e,!0,!1)}async function S0(r,e,n,s){const o=await EI(r.localStore,Ti(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await r2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&m0(r.remoteStore,o),m}async function r2(r,e,n,s,o){r.pu=(A,D,z)=>(async function(Z,H,ee,te){let se=H.view.ru(ee);se.Cs&&(se=await Zv(Z.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,se))));const Re=te&&te.targetChanges.get(H.targetId),Ie=te&&te.targetMismatches.get(H.targetId)!=null,Ce=H.view.applyChanges(se,Z.isPrimaryClient,Re,Ie);return lE(Z,H.targetId,Ce.au),Ce.snapshot})(r,A,D,z);const u=await Zv(r.localStore,e,!0),f=new ZI(e,u.Qs),m=f.ru(u.documents),g=Wl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);lE(r,n,y.au);const E=new WI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function s2(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Dh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&op(s.remoteStore,o.targetId),Im(s,o.targetId)})).catch(ho)):(Im(s,o.targetId),await wm(s.localStore,o.targetId,!0))}async function a2(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),op(n.remoteStore,s.targetId))}async function o2(r,e,n){const s=m2(r);try{const o=await(function(f,m){const g=Te(f),y=We.now(),E=m.reduce(((z,$)=>z.add($.key)),Pe());let A,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let $=rr(),Z=Pe();return g.Ns.getEntries(z,E).next((H=>{$=H,$.forEach(((ee,te)=>{te.isValidDocument()||(Z=Z.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,$))).next((H=>{A=H;const ee=[];for(const te of m){const se=vC(te,A.get(te.key).overlayedDocument);se!=null&&ee.push(new $s(te.key,se,MT(se.value.mapValue),Si.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,ee,m)})).next((H=>{D=H;const ee=H.applyToLocalDocumentSet(A,Z);return g.documentOverlayCache.saveOverlays(z,H.batchId,ee)}))})).then((()=>({batchId:D.batchId,changes:qT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(xe)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await tu(s,o.changes),await Lh(s.remoteStore)}catch(o){const u=fp(o,"Failed to persist write");n.reject(u)}}async function A0(r,e){const n=Te(r);try{const s=await yI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await tu(n,s,e)}catch(s){await ho(s)}}function oE(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Te(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,A)=>{for(const D of A.Sa)D.va(m)&&(y=!0)})),y&&dp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l2(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(me.comparator);f=f.insert(u,Jt.newNoDocument(u,ve.min()));const m=Pe().add(u),g=new Vh(ve.min(),new Map,new ut(xe),f,m);await A0(s,g),s.du=s.du.remove(u),s.Au.delete(e),pp(s)}else await wm(s.localStore,e,!1).then((()=>Im(s,e,n))).catch(ho)}async function u2(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await gI(n.localStore,e);w0(n,s,null),b0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await tu(n,o)}catch(o){await ho(o)}}async function c2(r,e,n){const s=Te(r);try{const o=await(function(f,m){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Fe(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);w0(s,e,n),b0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await tu(s,o)}catch(o){await ho(o)}}function b0(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function w0(r,e,n){const s=Te(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Im(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||R0(r,s)}))}function R0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(op(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),pp(r))}function lE(r,e,n){for(const s of n)s instanceof E0?(r.Ru.addReference(s.key,e),h2(r,s)):s instanceof T0?(ae(mp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||R0(r,s.key)):ye(19791,{wu:s})}function h2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ae(mp,"New document in limbo: "+n),r.Eu.add(s),pp(r))}function pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(it.fromString(e)),s=r.fu.next();r.Au.set(s,new e2(n)),r.du=r.du.insert(n,s),m0(r.remoteStore,new Kr(Ti(Zm(n.path)),s,"TargetPurposeLimboResolution",wh.ce))}}async function tu(r,e,n){const s=Te(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=sp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(D=>J.forEach(D.Es,(z=>E.persistence.referenceDelegate.addReference(A,D.targetId,z))).next((()=>J.forEach(D.ds,(z=>E.persistence.referenceDelegate.removeReference(A,D.targetId,z)))))))))}catch(A){if(!fo(A))throw A;ae(ap,"Failed to update sequence numbers: "+A)}for(const A of y){const D=A.targetId;if(!A.fromCache){const z=E.Ms.get(D),$=z.snapshotVersion,Z=z.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(D,Z)}}})(s.localStore,u))}async function f2(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){ae(mp,"User change. New user:",e.toKey());const s=await c0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tu(n,s.Ls)}}function d2(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function C0(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=A0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l2.bind(null,e),e.Pu.H_=XI.bind(null,e.eventManager),e.Pu.yu=$I.bind(null,e.eventManager),e}function m2(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pI(this.persistence,new fI,e.initialUser,this.serializer)}Cu(e){return new u0(rp.mi,this.serializer)}Du(e){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class p2 extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new u0((s=>fh.mi(s,n)),this.serializer)}}class Dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KI})()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),s=(function(u){return new CI(u)})(e.databaseInfo);return(function(u,f,m,g){return new NI(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new VI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>oE(this.syncEngine,n,0)),(function(){return tE.v()?new tE:new AI})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const A=new t2(o,u,f,m,g,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);ae(Fs,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class g2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const rs="FirestoreClient";class y2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ae(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ae(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),ae(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await c0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _2(r);ae(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>iE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>iE(e.remoteStore,o))),r._onlineComponents=e}async function _2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(rs,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new mh)}}else ae(rs,"Using default OfflineComponentProvider"),await rm(r,new p2(void 0));return r._offlineComponents}async function I0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(rs,"Using user provided OnlineComponentProvider"),await uE(r,r._uninitializedComponentsProvider._online)):(ae(rs,"Using default OnlineComponentProvider"),await uE(r,new Dm))),r._onlineComponents}function v2(r){return I0(r).then((e=>e.syncEngine))}async function E2(r){const e=await I0(r),n=e.eventManager;return n.onListen=n2.bind(null,e.syncEngine),n.onUnlisten=s2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a2.bind(null,e.syncEngine),n}function T2(r,e,n={}){const s=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new g2({next:D=>{E.Nu(),f.enqueueAndForget((()=>YI(u,A)));const z=D.docs.has(m);!z&&D.fromCache?y.reject(new he(W.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&D.fromCache&&g&&g.source==="server"?y.reject(new he(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),A=new JI(Zm(m.path),E,{includeMetadataChanges:!0,qa:!0});return QI(u,A)})(await E2(r),r.asyncQueue,e,n,s))),s.promise}function D0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cE=new Map;const O0="firestore.googleapis.com",hE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O0,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XC)throw new he(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SR;switch(s.type){case"firstParty":return new RR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cE.get(n);s&&(ae("ComponentProvider","Removing Datastore"),cE.delete(n),s.terminate())})(this),Promise.resolve()}}function S2(r,e,n,s={}){r=to(r,Uh);const o=lo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(sT(`https://${m}`),aT("Firestore",!0)),u.host!==O0&&u.host!==m&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!js(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=Q1(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(A)}r._authCredentials=new AR(new ET(y,E))}}class gp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gp(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Jl(n,Vt._jsonSchema))return new Vt(e,s||null,new me(it.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Ct("string",Vt._jsonSchemaVersion),referencePath:Ct("string")};class Zr extends gp{constructor(e,n,s){super(e,n,Zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new me(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function A2(r,e,...n){if(r=Ln(r),TT("collection","path",e),r instanceof Uh){const s=it.fromString(e,...n);return Rv(s),new Zr(r,null,s)}{if(!(r instanceof Vt||r instanceof Zr))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Rv(s),new Zr(r.firestore,null,s)}}function yp(r,e,...n){if(r=Ln(r),arguments.length===1&&(e=Gm.newId()),TT("doc","path",e),r instanceof Uh){const s=it.fromString(e,...n);return wv(s),new Vt(r,null,new me(s))}{if(!(r instanceof Vt||r instanceof Zr))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return wv(s),new Vt(r.firestore,r instanceof Zr?r.converter:null,new me(s))}}const dE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f0(this,"async_queue_retry"),this._c=()=>{const s=im();s&&ae(dE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;ae(dE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",pE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class kh extends Uh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new mE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function b2(r,e){const n=typeof r=="object"?r:cT(),s=typeof r=="string"?r:sh,o=Hm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=G1("firestore");u&&S2(o,...u)}return o}function N0(r){if(r._terminated)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||w2(r),r._firestoreClient}function w2(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new HR(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,D0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new y2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Qt.fromBase64String(e))}catch(n){throw new he(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ct("string",Pn._jsonSchemaVersion),bytes:Ct("string")};class _p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class M0{constructor(e){this._methodName=e}}class bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ct("string",bi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wi(e.vectorValues);throw new he(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ct("string",wi._jsonSchemaVersion),vectorValues:Ct("object")};const R2=/^__.*__$/;class C2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}function V0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class vp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V0(this.Ac)&&R2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xh(e)}Cc(e,n,s,o=!1){return new vp({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(r){const e=r._freezeSettings(),n=xh(r._databaseId);return new I2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function P0(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);z0("Data must be an object, but it was:",f,s);const m=U0(s,f);let g,y;if(u.merge)g=new Xn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const D=D2(e,A,n);if(!f.contains(D))throw new he(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);N2(E,D)||E.push(D)}g=new Xn(E),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new C2(new xn(m),g,y)}function L0(r,e){if(k0(r=Ln(r)))return z0("Unsupported field value:",e,r),U0(r,e);if(r instanceof M0)return(function(s,o){if(!V0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=L0(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ln(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=We.fromDate(s);return{timestampValue:hh(o.serializer,u)}}if(s instanceof We){const u=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:t0(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(f,m){return{mapValue:{fields:{[OT]:{stringValue:NT},[ah]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Wm(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Km(s)}`)})(r,e)}function U0(r,e){const n={};return bT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(r,((s,o)=>{const u=L0(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function k0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof bi||r instanceof Pn||r instanceof Vt||r instanceof M0||r instanceof wi)}function z0(r,e,n){if(!k0(n)||!ST(n)){const s=Km(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function D2(r,e,n){if((e=Ln(e))instanceof _p)return e._internalPath;if(typeof e=="string")return B0(r,e);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const O2=new RegExp("[~\\*/\\[\\]]");function B0(r,e,n){if(e.search(O2)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new _p(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new he(W.INVALID_ARGUMENT,m+r+g)}function N2(r,e){return r.some((n=>n.isEqual(e)))}class j0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(q0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M2 extends j0{data(){return super.data()}}function q0(r,e){return typeof e=="string"?B0(r,e):e instanceof _p?e._internalPath:e._delegate._internalPath}class V2{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[ah].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new wi(n)}convertGeoPoint(e){return new bi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ch(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=es(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Fe(o0(s),9688,{name:e});const o=new Bl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function H0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bs extends j0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(q0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ct("string",Bs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class $c extends Bs{data(e={}){return super.data(e)}}class xl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $c(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:x2(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function P2(r){r=to(r,Vt);const e=to(r.firestore,kh);return T2(N0(e),r._key).then((n=>z2(e,r,n)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:Ct("string",xl._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class L2 extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function U2(r,e,n){r=to(r,Vt);const s=to(r.firestore,kh),o=H0(r.converter,e);return F0(s,[P0(x0(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Si.none())])}function k2(r,e){const n=to(r.firestore,kh),s=yp(r),o=H0(r.converter,e);return F0(n,[P0(x0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Si.exists(!1))]).then((()=>s))}function F0(r,e){return(function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget((async()=>o2(await v2(s),o,u))),u.promise})(N0(r),e)}function z2(r,e,n){const s=n.docs.get(e._key),o=new L2(r);return new Bs(r,o,e._key,s,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){co=o})(uo),Za(new qs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new kh(new bR(s.getProvider("auth-internal")),new CR(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xr(Tv,Sv,e),Xr(Tv,Sv,"esm2020")})();function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B2=G0,K0=new Xl("auth","Firebase",G0());const gh=new jm("@firebase/auth");function j2(r,...e){gh.logLevel<=Ve.WARN&&gh.warn(`Auth (${uo}): ${r}`,...e)}function Jc(r,...e){gh.logLevel<=Ve.ERROR&&gh.error(`Auth (${uo}): ${r}`,...e)}function Jn(r,...e){throw Ep(r,...e)}function Ri(r,...e){return Ep(r,...e)}function Q0(r,e,n){const s={...B2(),[e]:n};return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function er(r){return Q0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return K0.create(r,...e)}function ge(r,e,...n){if(!r)throw Ep(e,...n)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function sr(r,e){r||Ji(e)}function Om(){return typeof self<"u"&&self.location?.href||""}function q2(){return gE()==="http:"||gE()==="https:"}function gE(){return typeof self<"u"&&self.location?.protocol||null}function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||W1()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=$1()||ew()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Y0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const K2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new nu(3e4,6e4);function ss(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function as(r,e,n,s,o={}){return X0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=$l({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Z1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),Y0.fetch()(await $0(r,r.config.apiHost,n,m),y)})}async function X0(r,e,n){r._canInitEmulator=!1;const s={...G2,...e};try{const o=new X2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw jc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Q0(r,E,y);Jn(r,E)}}catch(o){if(o instanceof or)throw o;Jn(r,"network-request-failed",{message:String(o)})}}async function iu(r,e,n,s,o={}){const u=await as(r,e,n,s,o);return"mfaPendingCredential"in u&&Jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Tp(r.config,o):`${r.config.apiScheme}://${o}`;return K2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Y2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),Q2.get())})}}function jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ri(r,e,s);return o.customData._tokenResponse=n,o}function yE(r){return r!==void 0&&r.enterprise!==void 0}class $2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J2(r,e){return as(r,"GET","/v2/recaptchaConfig",ss(r,e))}async function Z2(r,e){return as(r,"POST","/v1/accounts:delete",e)}async function yh(r,e){return as(r,"POST","/v1/accounts:lookup",e)}function Pl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W2(r,e=!1){const n=Ln(r),s=await n.getIdToken(e),o=Sp(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Pl(sm(o.auth_time)),issuedAtTime:Pl(sm(o.iat)),expirationTime:Pl(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function Sp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _E(r){const e=Sp(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&eD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(r){const e=r.auth,n=await r.getIdToken(),s=await Fl(r,yh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?J0(o.providerUserInfo):[],f=iD(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function nD(r){const e=Ln(r);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function J0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rD(r,e){const n=await X0(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),Y0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sD(r,e){return as(r,"POST","/v2/accounts:revokeToken",ss(r,e))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(ge(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function jr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W2(this,e)}reload(){return nD(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await Fl(this,Z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:z,providerData:$,stsTokenManager:Z}=n;ge(A&&Z,e,"internal-error");const H=Xa.fromJSON(this.name,Z);ge(typeof A=="string",e,"internal-error"),jr(s,e.name),jr(o,e.name),ge(typeof D=="boolean",e,"internal-error"),ge(typeof z=="boolean",e,"internal-error"),jr(u,e.name),jr(f,e.name),jr(m,e.name),jr(g,e.name),jr(y,e.name),jr(E,e.name);const ee=new $n({uid:A,auth:e,email:o,emailVerified:D,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(ee.providerData=$.map(te=>({...te}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _h(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?J0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Xa;m.updateFromIdToken(s);const g=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const vE=new Map;function Zi(r){sr(r instanceof Function,"Expected a class definition");let e=vE.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,vE.set(r,e),e)}class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z0.type="NONE";const EE=Z0;function Zc(r,e,n){return`firebase:${r}:${e}:${n}`}class $a{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $a(Zi(EE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Zi(EE);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const D=await yh(e,{idToken:E}).catch(()=>{});if(!D)break;A=await $n._fromGetAccountInfoResponse(e,D,E)}else A=$n._fromJSON(e,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,e,s))}}function TE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rS(e))return"Blackberry";if(sS(e))return"Webos";if(eS(e))return"Safari";if((e.includes("chrome/")||tS(e))&&!e.includes("edge/"))return"Chrome";if(iS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function W0(r=Zt()){return/firefox\//i.test(r)}function eS(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tS(r=Zt()){return/crios\//i.test(r)}function nS(r=Zt()){return/iemobile/i.test(r)}function iS(r=Zt()){return/android/i.test(r)}function rS(r=Zt()){return/blackberry/i.test(r)}function sS(r=Zt()){return/webos/i.test(r)}function Ap(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aD(r=Zt()){return Ap(r)&&!!window.navigator?.standalone}function oD(){return tw()&&document.documentMode===10}function aS(r=Zt()){return Ap(r)||iS(r)||sS(r)||rS(r)||/windows phone/i.test(r)||nS(r)}function oS(r,e=[]){let n;switch(r){case"Browser":n=TE(Zt());break;case"Worker":n=`${TE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}class lD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uD(r,e={}){return as(r,"GET","/v2/passwordPolicy",ss(r,e))}const cD=6;class hD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new lD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(er(this));const n=e?Ln(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uD(this),n=new hD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zs(r){return Ln(r)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uw(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dD(r){zh=r}function lS(r){return zh.loadJS(r)}function mD(){return zh.recaptchaEnterpriseScript}function pD(){return zh.gapiScript}function gD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yD{constructor(){this.enterprise=new _D}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _D{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vD="recaptcha-enterprise",uS="NO_RECAPTCHA";class ED{constructor(e){this.type=vD,this.auth=Zs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{J2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new $2(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;yE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(uS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&yE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=mD();g.length!==0&&(g+=m),lS(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function AE(r,e,n,s=!1,o=!1){const u=new ED(r);let f;if(o)f=uS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await AE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await AE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function TD(r,e){const n=Hm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(js(u,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function SD(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function AD(r,e,n){const s=Zs(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=cS(e),{host:f,port:m}=bD(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(js(y,s.config.emulator)&&js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(sT(`${u}//${f}${g}`),aT("Auth",!0)):wD()}function cS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bD(r){const e=cS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:bE(f)}}}function bE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function RD(r,e){return as(r,"POST","/v1/accounts:signUp",e)}async function CD(r,e){return iu(r,"POST","/v1/accounts:signInWithPassword",ss(r,e))}async function ID(r,e){return iu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,e))}async function DD(r,e){return iu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,e))}class Gl extends bp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",CD);case"emailLink":return ID(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,s,"signUpPassword",RD);case"emailLink":return DD(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ja(r,e){return iu(r,"POST","/v1/accounts:signInWithIdp",ss(r,e))}const OD="http://localhost";class Gs extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Gs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:OD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}function ND(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MD(r){const e=Al(bl(r)).link,n=e?Al(bl(e)).deep_link_id:null,s=Al(bl(r)).deep_link_id;return(s?Al(bl(s)).link:null)||s||n||e||r}class wp{constructor(e){const n=Al(bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=ND(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MD(e);try{return new wp(n)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wp.parseLink(n);return ge(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends hS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qr extends ru{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends ru{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function VD(r,e){return iu(r,"POST","/v1/accounts:signUp",ss(r,e))}class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=wE(s);return new Ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=wE(s);return new Ks({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function wE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class vh extends or{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new vh(e,n,s,o)}}function fS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(r,u,e,s):u})}async function xD(r,e,n=!1){const s=await Fl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ks._forOperation(r,"link",s)}async function PD(r,e,n=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await Fl(r,fS(s,o,e,r),n);ge(u.idToken,s,"internal-error");const f=Sp(u.idToken);ge(f,s,"internal-error");const{sub:m}=f;return ge(r.uid===m,s,"user-mismatch"),Ks._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}async function dS(r,e,n=!1){if(Vn(r.app))return Promise.reject(er(r));const s="signIn",o=await fS(r,s,e),u=await Ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function LD(r,e){return dS(Zs(r),e)}async function mS(r){const e=Zs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UD(r,e,n){if(Vn(r.app))return Promise.reject(er(r));const s=Zs(r),f=await Mm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&mS(r),g}),m=await Ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function kD(r,e,n){return Vn(r.app)?Promise.reject(er(r)):LD(Ln(r),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mS(r),s})}function zD(r,e,n,s){return Ln(r).onIdTokenChanged(e,n,s)}function BD(r,e,n){return Ln(r).beforeAuthStateChanged(e,n)}const Eh="__sak";class pS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jD=1e3,qD=10;class gS extends pS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);oD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gS.type="LOCAL";const HD=gS;class yS extends pS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yS.type="SESSION";const _S=yS;function FD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await FD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function Rp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class GD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Rp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const D=A;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ci(){return window}function KD(r){Ci().location.href=r}function vS(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function QD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YD(){return navigator?.serviceWorker?.controller||null}function XD(){return vS()?self:null}const ES="firebaseLocalStorageDb",$D=1,Th="firebaseLocalStorage",TS="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function JD(){const r=indexedDB.deleteDatabase(ES);return new su(r).toPromise()}function Vm(){const r=indexedDB.open(ES,$D);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:TS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await JD(),e(await Vm()))})})}async function RE(r,e,n){const s=jh(r,!0).put({[TS]:e,value:n});return new su(s).toPromise()}async function ZD(r,e){const n=jh(r,!1).get(e),s=await new su(n).toPromise();return s===void 0?null:s.value}function CE(r,e){const n=jh(r,!0).delete(e);return new su(n).toPromise()}const WD=800,eO=3;class SS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>eO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(XD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QD(),!this.activeServiceWorker)return;this.sender=new GD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await RE(e,Eh,"1"),await CE(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>RE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ZD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SS.type="LOCAL";const tO=SS;new nu(3e4,6e4);function nO(r,e){return e?Zi(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iO(r){return dS(r.auth,new Cp(r),r.bypassAuthState)}function rO(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),PD(n,new Cp(r),r.bypassAuthState)}async function sO(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),xD(n,new Cp(r),r.bypassAuthState)}class AS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return rO;default:Jn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aO=new nu(2e3,1e4);class Qa extends AS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aO.get())};e()}}Qa.currentPopupAction=null;const oO="pendingRedirect",Wc=new Map;class lO extends AS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await uO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(r,e){const n=fO(e),s=hO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cO(r,e){Wc.set(r._key(),e)}function hO(r){return Zi(r._redirectPersistence)}function fO(r){return Zc(oO,r.config.apiKey,r.name)}async function dO(r,e,n=!1){if(Vn(r.app))return Promise.reject(er(r));const s=Zs(r),o=nO(s,e),f=await new lO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const mO=600*1e3;class pO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function bS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function gO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bS(r);default:return!1}}async function yO(r,e={}){return as(r,"GET","/v1/projects",e)}const _O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function EO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yO(r);for(const n of e)try{if(TO(n))return}catch{}Jn(r,"unauthorized-domain")}function TO(r){const e=Om(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!vO.test(n))return!1;if(_O.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const SO=new nu(3e4,6e4);function DE(){const r=Ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AO(r){return new Promise((e,n)=>{function s(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(Ri(r,"network-request-failed"))},timeout:SO.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const o=gD("iframefcb");return Ci()[o]=()=>{gapi.load?s():n(Ri(r,"network-request-failed"))},lS(`${pD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function bO(r){return eh=eh||AO(r),eh}const wO=new nu(5e3,15e3),RO="__/auth/iframe",CO="emulator/auth/iframe",IO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OO(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tp(e,CO):`https://${r.config.authDomain}/${RO}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=DO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${$l(s).slice(1)}`}async function NO(r){const e=await bO(r),n=Ci().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:OO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ri(r,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},wO.get());function g(){Ci().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VO=500,xO=600,PO="_blank",LO="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UO(r,e,n,s=VO,o=xO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...MO,width:s.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=tS(y)?PO:n),W0(y)&&(e=e||LO,g.scrollbars="yes");const E=Object.entries(g).reduce((D,[z,$])=>`${D}${z}=${$},`,"");if(aD(y)&&m!=="_self")return kO(e||"",m),new OE(null);const A=window.open(e||"",m,E);ge(A,r,"popup-blocked");try{A.focus()}catch{}return new OE(A)}function kO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const zO="__/auth/handler",BO="emulator/auth/handler",jO=encodeURIComponent("fac");async function NE(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof hS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",lw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof ru){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${jO}=${encodeURIComponent(g)}`:"";return`${qO(r)}?${$l(m).slice(1)}${y}`}function qO({config:r}){return r.emulator?Tp(r,BO):`https://${r.authDomain}/${zO}`}const am="webStorageSupport";class HO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=dO,this._overrideRedirectResult=cO}async _openPopup(e,n,s,o){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await NE(e,n,s,Om(),o);return UO(e,u,Rp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await NE(e,n,s,Om(),o);return KD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await NO(e),s=new pO(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aS()||eS()||Ap()}}const FO=HO;var ME="@firebase/auth",VE="1.11.1";class GO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QO(r){Za(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oS(r)},y=new fD(s,o,u,g);return SD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Za(new qs("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(s=>new GO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(ME,VE,KO(r)),Xr(ME,VE,"esm2020")}const YO=300,XO=rT("authIdTokenMaxAge")||YO;let xE=null;const $O=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XO)return;const o=n?.token;xE!==o&&(xE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JO(r=cT()){const e=Hm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TD(r,{popupRedirectResolver:FO,persistence:[tO,HD,_S]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$O(u.toString());BD(n,f,()=>f(n.currentUser)),zD(n,m=>f(m))}}const o=nT("auth");return o&&AD(n,`http://${o}`),n}function ZO(){return document.getElementsByTagName("head")?.[0]??document}dD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QO("Browser");const WO={apiKey:"AIzaSyDm20Plug9S3EWQo4umsdnrMXaEn8i_Jeo",authDomain:"medical-project-6a2aa.firebaseapp.com",projectId:"medical-project-6a2aa",storageBucket:"medical-project-6a2aa.appspot.com",messagingSenderId:"533053954463",appId:"1:533053954463:web:bbb60e3bd068baa90405aa",measurementId:"G-GMQZJYE7WW"},wS=uT(WO),xm=b2(wS),RS=JO(wS);function eN(){const[r,e]=X.useState(""),[n,s]=X.useState(""),[o,u]=X.useState(""),f=FE(),m=async g=>{g.preventDefault(),u("");try{const E=(await kD(RS,r,n)).user.uid,A=await P2(yp(xm,"Users",E));if(A.exists()){const D=A.data().role;D==="doctor"?f("/doctor"):D==="patient"?f("/patient"):u("Role not assigned.")}else u("User profile not found in Firestore.")}catch(y){console.error(y),u("Login failed. Check email and password.")}};return le.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e0f0ff",fontFamily:"sans-serif"},children:le.jsxs("div",{style:{backgroundColor:"white",padding:"2rem 3rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",width:"100%",maxWidth:"400px"},children:[le.jsx("h1",{style:{textAlign:"center",color:"#0077cc",marginBottom:"1rem"},children:"Medical Login"}),le.jsxs("form",{onSubmit:m,children:[le.jsx("label",{children:"Email:"}),le.jsx("input",{type:"email",value:r,onChange:g=>e(g.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),le.jsx("label",{children:"Password:"}),le.jsx("input",{type:"password",value:n,onChange:g=>s(g.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),le.jsx("button",{type:"submit",style:{width:"100%",padding:"0.5rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Sign In"}),o&&le.jsx("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:o})]})]})})}function tN(){return le.jsx("div",{style:{backgroundColor:"lightblue",height:"100vh"},children:le.jsx("h1",{style:{textAlign:"center",paddingTop:"2rem"},children:"Patient Dashboard"})})}function nN(){const[r,e]=X.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=X.useState(""),o=f=>{const{name:m,value:g}=f.target;e(y=>({...y,[m]:g}))},u=async f=>{f.preventDefault(),s("Saving...");try{const g=(await UD(RS,r.email,r.password)).user,y=Date.now();await k2(A2(xm,"Patients"),{...r,patient_id:y,user_id:g.uid,phone_number:Number(r.phone_number),emergency_contact_phone:String(r.emergency_contact_phone),date_of_birth:r.date_of_birth?We.fromDate(new Date(r.date_of_birth)):null,created_at:We.now()}),await U2(yp(xm,"Users",g.uid),{uid:g.uid,email:r.email,role:"patient",created_at:We.now()}),s(" Patient registered successfully!"),e({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""})}catch(m){console.error("Error adding patient:",m),s(" Error adding patient. Check console.")}};return le.jsxs("div",{style:{maxWidth:500,margin:"2rem auto",fontFamily:"sans-serif"},children:[le.jsx("h2",{children:"Patient Registration"}),le.jsxs("form",{onSubmit:u,children:[le.jsx("label",{children:"First Name:"}),le.jsx("input",{name:"first_name",value:r.first_name,onChange:o,required:!0}),le.jsx("label",{children:"Last Name:"}),le.jsx("input",{name:"last_name",value:r.last_name,onChange:o,required:!0}),le.jsx("label",{children:"Email:"}),le.jsx("input",{type:"email",name:"email",value:r.email,onChange:o,required:!0}),le.jsx("label",{children:"Password:"}),le.jsx("input",{type:"password",name:"password",value:r.password,onChange:o,required:!0}),le.jsx("label",{children:"Address:"}),le.jsx("input",{name:"address",value:r.address,onChange:o,required:!0}),le.jsx("label",{children:"Date of Birth:"}),le.jsx("input",{type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:o,required:!0}),le.jsx("label",{children:"Gender:"}),le.jsxs("select",{name:"gender",value:r.gender,onChange:o,required:!0,children:[le.jsx("option",{value:"",children:"Select"}),le.jsx("option",{value:"male",children:"Male"}),le.jsx("option",{value:"female",children:"Female"}),le.jsx("option",{value:"other",children:"Other"})]}),le.jsx("label",{children:"Phone Number:"}),le.jsx("input",{name:"phone_number",value:r.phone_number,onChange:o,required:!0}),le.jsx("label",{children:"Emergency Contact Name:"}),le.jsx("input",{name:"emergency_contact_name",value:r.emergency_contact_name,onChange:o,required:!0}),le.jsx("label",{children:"Emergency Contact Phone:"}),le.jsx("input",{name:"emergency_contact_phone",value:r.emergency_contact_phone,onChange:o,required:!0}),le.jsx("button",{type:"submit",style:{marginTop:"1rem"},children:"Register"})]}),n&&le.jsx("p",{style:{marginTop:"1rem"},children:n})]})}function iN(){return le.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#e0f0ff",padding:"2rem",fontFamily:"sans-serif"},children:[le.jsxs("header",{style:{backgroundColor:"#0077cc",color:"white",padding:"1rem 2rem",borderRadius:"8px",marginBottom:"2rem"},children:[le.jsx("h1",{children:"Doctor Dashboard"}),le.jsx("p",{children:"Register new patients and manage records below:"})]}),le.jsx("main",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:le.jsx(nN,{})}),le.jsxs("section",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[le.jsx("h2",{children:"Upload Medical Records (UI Only)"}),le.jsx("p",{children:"You can upload PDFs or images of scans and other records here."}),le.jsx("div",{style:{marginTop:"1rem"},children:le.jsxs("label",{children:["Upload PDF:",le.jsx("input",{type:"file",accept:".pdf",style:{display:"block",marginTop:"0.5rem"}})]})}),le.jsx("div",{style:{marginTop:"1rem"},children:le.jsxs("label",{children:["Upload Image:",le.jsx("input",{type:"file",accept:"image/*",style:{display:"block",marginTop:"0.5rem"}})]})}),le.jsx("button",{style:{marginTop:"1.5rem",padding:"0.5rem 1rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"not-allowed"},disabled:!0,children:"Upload (Not Functional Yet)"})]})]})}function rN(){return le.jsxs(r1,{children:[le.jsx(qc,{path:"/",element:le.jsx(eN,{})}),le.jsx(qc,{path:"/patient",element:le.jsx(tN,{})}),le.jsx(qc,{path:"/doctor",element:le.jsx(iN,{})})]})}mb.createRoot(document.getElementById("root")).render(le.jsx(C1,{basename:"/~omoloney/medical_project/medical-records-deploy",children:le.jsx(rN,{})}));
